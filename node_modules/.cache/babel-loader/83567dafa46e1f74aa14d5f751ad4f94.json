{"ast":null,"code":"import firebaseService from'app/services/firebaseService';import jwtService from'app/services/jwtService';import*as Actions from'app/store/actions';import*as UserActions from'./user.actions';export var LOGIN_ERROR='LOGIN_ERROR';export var LOGIN_SUCCESS='LOGIN_SUCCESS';export function loginWithToken(){return function(dispatch){return jwtService.signInWithToken.then(function(user){console.log(user);dispatch(UserActions.setJWTUserData(user));return dispatch({type:LOGIN_SUCCESS});}).catch(function(error){console.log(error);return dispatch({type:LOGIN_ERROR,payload:error});});};}export function submitLogin(_ref){var email=_ref.email,password=_ref.password;return function(dispatch){return jwtService.signInWithEmailAndPassword(email,password).then(function(user){dispatch(UserActions.setJWTUserData(user));return dispatch({type:LOGIN_SUCCESS});}).catch(function(error){console.log(error);return dispatch({type:LOGIN_ERROR,payload:error});});};}export function submitLoginWithFireBase(_ref2){var username=_ref2.username,password=_ref2.password;if(!firebaseService.auth){console.warn(\"Firebase Service didn't initialize, check your configuration\");return function(){return false;};}return function(dispatch){return firebaseService.auth.signInWithEmailAndPassword(username,password).then(function(){return dispatch({type:LOGIN_SUCCESS});}).catch(function(error){console.info('error');var usernameErrorCodes=['auth/email-already-in-use','auth/invalid-email','auth/operation-not-allowed','auth/user-not-found','auth/user-disabled'];var passwordErrorCodes=['auth/weak-password','auth/wrong-password'];var response={username:usernameErrorCodes.includes(error.code)?error.message:null,password:passwordErrorCodes.includes(error.code)?error.message:null};if(error.code==='auth/invalid-api-key'){dispatch(Actions.showMessage({message:error.message}));}return dispatch({type:LOGIN_ERROR,payload:response});});};}","map":null,"metadata":{},"sourceType":"module"}