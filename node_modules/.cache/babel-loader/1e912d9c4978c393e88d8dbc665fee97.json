{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\vendor\\\\vendor_child\\\\VendorChildren.js\";\nimport React, { createRef } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport MaterialTable from 'material-table';\nimport AddChild from './AddChild';\nimport EditChild from './EditChild';\n\nfunction VendorChildren(_ref) {\n  var vendor_id = _ref.vendor_id;\n  var tableRef = createRef();\n\n  function reload() {\n    tableRef.current.onQueryChange();\n  }\n\n  function getData(_x) {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(query) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n                  var axios, params, vendors, resp;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          JwtService.init();\n                          axios = JwtService.getAxios();\n                          params = {\n                            page: query.page,\n                            limit: query.pageSize,\n                            q: query.search\n                          };\n                          params.parent_id = vendor_id;\n                          _context.next = 6;\n                          return axios.get('/api/admin/vendor', {\n                            params: params\n                          });\n\n                        case 6:\n                          vendors = _context.sent;\n                          resp = vendors.data;\n\n                          if (resp.status) {\n                            resolve({\n                              data: resp.data.data,\n                              /// your data array\n                              page: query.page,\n                              // current page number\n                              totalCount: resp.data.total // total row number\n\n                            });\n                          } else {\n                            resolve({\n                              data: [],\n                              /// your data array\n                              page: 0,\n                              // current page number\n                              totalCount: 0 // total row number\n\n                            });\n                          }\n\n                        case 9:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  function actions() {\n    var actions = [];\n    actions.push({\n      icon: 'save',\n      tooltip: 'Create',\n      isFreeAction: true,\n      onClick: function onClick(event, data) {}\n    });\n    actions.push({\n      icon: 'edit',\n      tooltip: 'Edit',\n      onClick: function onClick(event, data) {}\n    });\n    return actions;\n  }\n\n  function Action(_ref2) {\n    var action = _ref2.action,\n        data = _ref2.data;\n\n    switch (action.icon) {\n      case 'save':\n        return /*#__PURE__*/React.createElement(AddChild, {\n          vendor_id: vendor_id,\n          reload: reload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 12\n          }\n        });\n\n      case 'edit':\n        return /*#__PURE__*/React.createElement(EditChild, {\n          vendor_id: data.id ? data.id : null,\n          reload: reload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 12\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(MaterialTable, {\n    ref: tableRef,\n    title: \"Branches\",\n    data: getData,\n    columns: [{\n      title: 'Name',\n      field: 'name',\n      width: 30\n    }, {\n      title: 'Locality',\n      field: 'locality',\n      width: 30\n    }, {\n      title: 'City',\n      field: 'city.name',\n      width: 10\n    }, {\n      title: 'Status',\n      field: 'status',\n      width: 10\n    }],\n    actions: actions(),\n    options: {\n      pageSize: 10,\n      pageSizeOptions: [10, 20, 50],\n      actionsColumnIndex: -1\n    },\n    components: {\n      Action: Action\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 3\n    }\n  });\n}\n\nexport default VendorChildren;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/vendor/vendor_child/VendorChildren.js"],"names":["React","createRef","JwtService","MaterialTable","AddChild","EditChild","VendorChildren","vendor_id","tableRef","reload","current","onQueryChange","getData","query","Promise","resolve","init","axios","getAxios","params","page","limit","pageSize","q","search","parent_id","get","vendors","resp","data","status","totalCount","total","actions","push","icon","tooltip","isFreeAction","onClick","event","Action","action","id","title","field","width","pageSizeOptions","actionsColumnIndex"],"mappings":"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","sourcesContent":["import React, { createRef } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport MaterialTable from 'material-table';\nimport AddChild from './AddChild';\nimport EditChild from './EditChild';\n\nfunction VendorChildren({ vendor_id }) {\n\tconst tableRef = createRef();\n\n\tfunction reload() {\n\t\ttableRef.current.onQueryChange();\n\t}\n\tasync function getData(query) {\n\t\treturn new Promise(async resolve => {\n\t\t\tJwtService.init();\n\t\t\tconst axios = JwtService.getAxios();\n\t\t\tconst params = {\n\t\t\t\tpage: query.page,\n\t\t\t\tlimit: query.pageSize,\n\t\t\t\tq: query.search\n\t\t\t};\n\n\t\t\tparams.parent_id = vendor_id;\n\t\t\tconst vendors = await axios.get('/api/admin/vendor', {\n\t\t\t\tparams\n\t\t\t});\n\t\t\tconst resp = vendors.data;\n\t\t\tif (resp.status) {\n\t\t\t\tresolve({\n\t\t\t\t\tdata: resp.data.data, /// your data array\n\t\t\t\t\tpage: query.page, // current page number\n\t\t\t\t\ttotalCount: resp.data.total // total row number\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve({\n\t\t\t\t\tdata: [], /// your data array\n\t\t\t\t\tpage: 0, // current page number\n\t\t\t\t\ttotalCount: 0 // total row number\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction actions() {\n\t\tconst actions = [];\n\n\t\tactions.push({\n\t\t\ticon: 'save',\n\t\t\ttooltip: 'Create',\n\t\t\tisFreeAction: true,\n\t\t\tonClick: (event, data) => {}\n\t\t});\n\n\t\tactions.push({\n\t\t\ticon: 'edit',\n\t\t\ttooltip: 'Edit',\n\t\t\tonClick: (event, data) => {}\n\t\t});\n\n\t\treturn actions;\n\t}\n\n\tfunction Action({ action, data }) {\n\t\tswitch (action.icon) {\n\t\t\tcase 'save':\n\t\t\t\treturn <AddChild vendor_id={vendor_id} reload={reload} />;\n\t\t\tcase 'edit':\n\t\t\t\treturn <EditChild vendor_id={data.id ? data.id : null} reload={reload} />;\n\t\t\tdefault:\n\t\t\t\treturn <></>;\n\t\t}\n\t}\n\n\treturn (\n\t\t<MaterialTable\n\t\t\tref={tableRef}\n\t\t\ttitle=\"Branches\"\n\t\t\tdata={getData}\n\t\t\tcolumns={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Name',\n\t\t\t\t\tfield: 'name',\n\t\t\t\t\twidth: 30\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Locality',\n\t\t\t\t\tfield: 'locality',\n\t\t\t\t\twidth: 30\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'City',\n\t\t\t\t\tfield: 'city.name',\n\t\t\t\t\twidth: 10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Status',\n\t\t\t\t\tfield: 'status',\n\t\t\t\t\twidth: 10\n\t\t\t\t}\n\t\t\t]}\n\t\t\tactions={actions()}\n\t\t\toptions={{\n\t\t\t\tpageSize: 10,\n\t\t\t\tpageSizeOptions: [10, 20, 50],\n\t\t\t\tactionsColumnIndex: -1\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tAction\n\t\t\t}}\n\t\t/>\n\t);\n}\n\nexport default VendorChildren;\n"]},"metadata":{},"sourceType":"module"}