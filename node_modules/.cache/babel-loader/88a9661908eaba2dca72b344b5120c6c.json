{"ast":null,"code":"import _defineProperty from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\@fuse\\\\core\\\\FuseNavigation\\\\horizontal\\\\FuseNavHorizontalCollapse.js\";\nimport NavLinkAdapter from '@fuse/core/NavLinkAdapter';\nimport { useDebounce } from '@fuse/hooks';\nimport FuseUtils from '@fuse/utils';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport FuseNavBadge from '../FuseNavBadge';\nimport FuseNavItem from '../FuseNavItem';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      '& .list-item-text': {\n        padding: '0 0 0 16px'\n      }\n    },\n    button: {\n      color: theme.palette.text.primary,\n      minHeight: 48,\n      '&.active, &.active:hover, &.active:focus': {\n        backgroundColor: \"\".concat(theme.palette.secondary.main, \"!important\"),\n        color: \"\".concat(theme.palette.secondary.contrastText, \"!important\"),\n        '& .list-item-text-primary': {\n          color: 'inherit'\n        },\n        '& .list-item-icon': {\n          color: 'inherit'\n        }\n      },\n      '&.open': {\n        backgroundColor: 'rgba(0,0,0,.08)'\n      }\n    },\n    popper: {\n      zIndex: 999\n    },\n    popperClose: {\n      pointerEvents: 'none'\n    }\n  };\n});\n\nfunction FuseNavHorizontalCollapse(props) {\n  var _this = this;\n\n  var userRole = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.role;\n  });\n  var classes = useStyles(props);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var item = props.item,\n      nestedLevel = props.nestedLevel,\n      dense = props.dense;\n  var theme = useTheme();\n\n  var _useTranslation = useTranslation('navigation'),\n      t = _useTranslation.t;\n\n  var handleToggle = useDebounce(function (open) {\n    setOpened(open);\n  }, 150);\n  var hasPermission = useMemo(function () {\n    return FuseUtils.hasPermission(item.auth, userRole);\n  }, [item.auth, userRole]);\n\n  if (!hasPermission) {\n    return null;\n  }\n\n  function isUrlInChildren(parent, url) {\n    if (!parent.children) {\n      return false;\n    }\n\n    for (var i = 0; i < parent.children.length; i += 1) {\n      if (parent.children[i].children) {\n        if (isUrlInChildren(parent.children[i], url)) {\n          return true;\n        }\n      }\n\n      if (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: clsx(classes.root, 'relative px-0'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Manager, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Reference, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, function (_ref2) {\n    var ref = _ref2.ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      className: clsx('list-item', classes.button, opened && 'open', isUrlInChildren(item, props.location.pathname) && 'active'),\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      \"aria-owns\": opened ? 'menu-list-grow' : null,\n      \"aria-haspopup\": \"true\",\n      component: item.url ? NavLinkAdapter : 'li',\n      to: item.url,\n      role: \"button\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }\n    }, item.icon && /*#__PURE__*/React.createElement(Icon, {\n      color: \"action\",\n      className: \"list-item-icon text-16 flex-shrink-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 10\n      }\n    }, item.icon), /*#__PURE__*/React.createElement(ListItemText, {\n      className: \"list-item-text\",\n      primary: item.translate ? t(item.translate) : item.title,\n      classes: {\n        primary: 'text-14'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }), item.badge && /*#__PURE__*/React.createElement(FuseNavBadge, {\n      className: \"mx-4\",\n      badge: item.badge,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      disableRipple: true,\n      className: \"w-16 h-16 ltr:ml-4 rtl:mr-4 p-0\",\n      color: \"inherit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"text-16 arrow-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 10\n      }\n    }, theme.direction === 'ltr' ? 'keyboard_arrow_right' : 'keyboard_arrow_left'))));\n  }), ReactDOM.createPortal( /*#__PURE__*/React.createElement(Popper, {\n    placement: theme.direction === 'ltr' ? 'right' : 'left',\n    eventsEnabled: opened,\n    positionFixed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 6\n    }\n  }, function (_ref3) {\n    var ref = _ref3.ref,\n        style = _ref3.style,\n        placement = _ref3.placement,\n        arrowProps = _ref3.arrowProps;\n    return opened && /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref,\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        zIndex: 999 + nestedLevel + 1\n      }),\n      \"data-placement\": placement,\n      className: clsx(classes.popper, _defineProperty({}, classes.popperClose, !opened)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grow, {\n      in: opened,\n      id: \"menu-list-grow\",\n      style: {\n        transformOrigin: '0 0 0'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, item.children && /*#__PURE__*/React.createElement(\"ul\", {\n      className: clsx(classes.children, 'popper-navigation-list', dense && 'dense', 'px-0'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    }, item.children.map(function (_item) {\n      return /*#__PURE__*/React.createElement(FuseNavItem, {\n        key: _item.id,\n        type: \"horizontal-\".concat(_item.type),\n        item: _item,\n        nestedLevel: nestedLevel + 1,\n        dense: dense,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }\n      });\n    })))));\n  }), document.querySelector('#root'))));\n}\n\nFuseNavHorizontalCollapse.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    icon: PropTypes.string,\n    children: PropTypes.array\n  })\n};\nFuseNavHorizontalCollapse.defaultProps = {};\nvar NavHorizontalCollapse = withRouter(React.memo(FuseNavHorizontalCollapse));\nexport default NavHorizontalCollapse;","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/core/FuseNavigation/horizontal/FuseNavHorizontalCollapse.js"],"names":["NavLinkAdapter","useDebounce","FuseUtils","Grow","Icon","IconButton","ListItem","ListItemText","Paper","makeStyles","useTheme","clsx","PropTypes","React","useState","useMemo","ReactDOM","useTranslation","Manager","Popper","Reference","useSelector","withRouter","FuseNavBadge","FuseNavItem","useStyles","theme","root","padding","button","color","palette","text","primary","minHeight","backgroundColor","secondary","main","contrastText","popper","zIndex","popperClose","pointerEvents","FuseNavHorizontalCollapse","props","userRole","auth","user","role","classes","opened","setOpened","item","nestedLevel","dense","t","handleToggle","open","hasPermission","isUrlInChildren","parent","url","children","i","length","includes","ref","location","pathname","icon","translate","title","badge","direction","createPortal","style","placement","arrowProps","transformOrigin","map","_item","id","type","document","querySelector","propTypes","shape","string","isRequired","array","defaultProps","NavHorizontalCollapse","memo"],"mappings":";;;;AAAA,OAAOA,cAAP,MAA2B,2BAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,OAAzC;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,SAA1B,QAA2C,cAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,IAAMC,SAAS,GAAGhB,UAAU,CAAC,UAAAiB,KAAK;AAAA,SAAK;AACtCC,IAAAA,IAAI,EAAE;AACL,2BAAqB;AACpBC,QAAAA,OAAO,EAAE;AADW;AADhB,KADgC;AAMtCC,IAAAA,MAAM,EAAE;AACPC,MAAAA,KAAK,EAAEJ,KAAK,CAACK,OAAN,CAAcC,IAAd,CAAmBC,OADnB;AAEPC,MAAAA,SAAS,EAAE,EAFJ;AAGP,kDAA4C;AAC3CC,QAAAA,eAAe,YAAKT,KAAK,CAACK,OAAN,CAAcK,SAAd,CAAwBC,IAA7B,eAD4B;AAE3CP,QAAAA,KAAK,YAAKJ,KAAK,CAACK,OAAN,CAAcK,SAAd,CAAwBE,YAA7B,eAFsC;AAG3C,qCAA6B;AAC5BR,UAAAA,KAAK,EAAE;AADqB,SAHc;AAM3C,6BAAqB;AACpBA,UAAAA,KAAK,EAAE;AADa;AANsB,OAHrC;AAaP,gBAAU;AACTK,QAAAA,eAAe,EAAE;AADR;AAbH,KAN8B;AAuBtCI,IAAAA,MAAM,EAAE;AACPC,MAAAA,MAAM,EAAE;AADD,KAvB8B;AA0BtCC,IAAAA,WAAW,EAAE;AACZC,MAAAA,aAAa,EAAE;AADH;AA1ByB,GAAL;AAAA,CAAN,CAA5B;;AA+BA,SAASC,yBAAT,CAAmCC,KAAnC,EAA0C;AAAA;;AACzC,MAAMC,QAAQ,GAAGxB,WAAW,CAAC;AAAA,QAAGyB,IAAH,QAAGA,IAAH;AAAA,WAAcA,IAAI,CAACC,IAAL,CAAUC,IAAxB;AAAA,GAAD,CAA5B;AAEA,MAAMC,OAAO,GAAGxB,SAAS,CAACmB,KAAD,CAAzB;;AAHyC,kBAIb9B,QAAQ,CAAC,KAAD,CAJK;AAAA;AAAA,MAIlCoC,MAJkC;AAAA,MAI1BC,SAJ0B;;AAAA,MAKjCC,IALiC,GAKJR,KALI,CAKjCQ,IALiC;AAAA,MAK3BC,WAL2B,GAKJT,KALI,CAK3BS,WAL2B;AAAA,MAKdC,KALc,GAKJV,KALI,CAKdU,KALc;AAMzC,MAAM5B,KAAK,GAAGhB,QAAQ,EAAtB;;AANyC,wBAO3BO,cAAc,CAAC,YAAD,CAPa;AAAA,MAOjCsC,CAPiC,mBAOjCA,CAPiC;;AASzC,MAAMC,YAAY,GAAGvD,WAAW,CAAC,UAAAwD,IAAI,EAAI;AACxCN,IAAAA,SAAS,CAACM,IAAD,CAAT;AACA,GAF+B,EAE7B,GAF6B,CAAhC;AAIA,MAAMC,aAAa,GAAG3C,OAAO,CAAC;AAAA,WAAMb,SAAS,CAACwD,aAAV,CAAwBN,IAAI,CAACN,IAA7B,EAAmCD,QAAnC,CAAN;AAAA,GAAD,EAAqD,CAACO,IAAI,CAACN,IAAN,EAAYD,QAAZ,CAArD,CAA7B;;AAEA,MAAI,CAACa,aAAL,EAAoB;AACnB,WAAO,IAAP;AACA;;AAED,WAASC,eAAT,CAAyBC,MAAzB,EAAiCC,GAAjC,EAAsC;AACrC,QAAI,CAACD,MAAM,CAACE,QAAZ,EAAsB;AACrB,aAAO,KAAP;AACA;;AAED,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,MAAM,CAACE,QAAP,CAAgBE,MAApC,EAA4CD,CAAC,IAAI,CAAjD,EAAoD;AACnD,UAAIH,MAAM,CAACE,QAAP,CAAgBC,CAAhB,EAAmBD,QAAvB,EAAiC;AAChC,YAAIH,eAAe,CAACC,MAAM,CAACE,QAAP,CAAgBC,CAAhB,CAAD,EAAqBF,GAArB,CAAnB,EAA8C;AAC7C,iBAAO,IAAP;AACA;AACD;;AAED,UAAID,MAAM,CAACE,QAAP,CAAgBC,CAAhB,EAAmBF,GAAnB,KAA2BA,GAA3B,IAAkCA,GAAG,CAACI,QAAJ,CAAaL,MAAM,CAACE,QAAP,CAAgBC,CAAhB,EAAmBF,GAAhC,CAAtC,EAA4E;AAC3E,eAAO,IAAP;AACA;AACD;;AAED,WAAO,KAAP;AACA;;AAED,sBACC;AAAI,IAAA,SAAS,EAAElD,IAAI,CAACsC,OAAO,CAACtB,IAAT,EAAe,eAAf,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,QAAGuC,GAAH,SAAGA,GAAH;AAAA,wBACA;AAAK,MAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,QAAD;AACC,MAAA,MAAM,MADP;AAEC,MAAA,SAAS,EAAEvD,IAAI,CACd,WADc,EAEdsC,OAAO,CAACpB,MAFM,EAGdqB,MAAM,IAAI,MAHI,EAIdS,eAAe,CAACP,IAAD,EAAOR,KAAK,CAACuB,QAAN,CAAeC,QAAtB,CAAf,IAAkD,QAJpC,CAFhB;AAQC,MAAA,YAAY,EAAE;AAAA,eAAMZ,YAAY,CAAC,IAAD,CAAlB;AAAA,OARf;AASC,MAAA,YAAY,EAAE;AAAA,eAAMA,YAAY,CAAC,KAAD,CAAlB;AAAA,OATf;AAUC,mBAAWN,MAAM,GAAG,gBAAH,GAAsB,IAVxC;AAWC,uBAAc,MAXf;AAYC,MAAA,SAAS,EAAEE,IAAI,CAACS,GAAL,GAAW7D,cAAX,GAA4B,IAZxC;AAaC,MAAA,EAAE,EAAEoD,IAAI,CAACS,GAbV;AAcC,MAAA,IAAI,EAAC,QAdN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAgBET,IAAI,CAACiB,IAAL,iBACA,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAC,sCAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEjB,IAAI,CAACiB,IADP,CAjBF,eAsBC,oBAAC,YAAD;AACC,MAAA,SAAS,EAAC,gBADX;AAEC,MAAA,OAAO,EAAEjB,IAAI,CAACkB,SAAL,GAAiBf,CAAC,CAACH,IAAI,CAACkB,SAAN,CAAlB,GAAqClB,IAAI,CAACmB,KAFpD;AAGC,MAAA,OAAO,EAAE;AAAEtC,QAAAA,OAAO,EAAE;AAAX,OAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBD,EA4BEmB,IAAI,CAACoB,KAAL,iBAAc,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,MAAxB;AAA+B,MAAA,KAAK,EAAEpB,IAAI,CAACoB,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BhB,eA6BC,oBAAC,UAAD;AAAY,MAAA,aAAa,MAAzB;AAA0B,MAAA,SAAS,EAAC,iCAApC;AAAsE,MAAA,KAAK,EAAC,SAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE9C,KAAK,CAAC+C,SAAN,KAAoB,KAApB,GAA4B,sBAA5B,GAAqD,qBADvD,CADD,CA7BD,CADD,CADA;AAAA,GADF,CADD,EA0CEzD,QAAQ,CAAC0D,YAAT,eACA,oBAAC,MAAD;AACC,IAAA,SAAS,EAAEhD,KAAK,CAAC+C,SAAN,KAAoB,KAApB,GAA4B,OAA5B,GAAsC,MADlD;AAEC,IAAA,aAAa,EAAEvB,MAFhB;AAGC,IAAA,aAAa,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAA,QAAGgB,GAAH,SAAGA,GAAH;AAAA,QAAQS,KAAR,SAAQA,KAAR;AAAA,QAAeC,SAAf,SAAeA,SAAf;AAAA,QAA0BC,UAA1B,SAA0BA,UAA1B;AAAA,WACA3B,MAAM,iBACL;AACC,MAAA,GAAG,EAAEgB,GADN;AAEC,MAAA,KAAK,kCACDS,KADC;AAEJnC,QAAAA,MAAM,EAAE,MAAMa,WAAN,GAAoB;AAFxB,QAFN;AAMC,wBAAgBuB,SANjB;AAOC,MAAA,SAAS,EAAEjE,IAAI,CAACsC,OAAO,CAACV,MAAT,sBAAoBU,OAAO,CAACR,WAA5B,EAA0C,CAACS,MAA3C,EAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASC,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAEA,MAAV;AAAkB,MAAA,EAAE,EAAC,gBAArB;AAAsC,MAAA,KAAK,EAAE;AAAE4B,QAAAA,eAAe,EAAE;AAAnB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AACC,MAAA,YAAY,EAAE;AAAA,eAAMtB,YAAY,CAAC,IAAD,CAAlB;AAAA,OADf;AAEC,MAAA,YAAY,EAAE;AAAA,eAAMA,YAAY,CAAC,KAAD,CAAlB;AAAA,OAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIEJ,IAAI,CAACU,QAAL,iBACA;AACC,MAAA,SAAS,EAAEnD,IAAI,CACdsC,OAAO,CAACa,QADM,EAEd,wBAFc,EAGdR,KAAK,IAAI,OAHK,EAId,MAJc,CADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQEF,IAAI,CAACU,QAAL,CAAciB,GAAd,CAAkB,UAAAC,KAAK;AAAA,0BACvB,oBAAC,WAAD;AACC,QAAA,GAAG,EAAEA,KAAK,CAACC,EADZ;AAEC,QAAA,IAAI,uBAAgBD,KAAK,CAACE,IAAtB,CAFL;AAGC,QAAA,IAAI,EAAEF,KAHP;AAIC,QAAA,WAAW,EAAE3B,WAAW,GAAG,CAJ5B;AAKC,QAAA,KAAK,EAAEC,KALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADuB;AAAA,KAAvB,CARF,CALF,CADD,CATD,CAFD;AAAA,GALF,CADA,EAgDA6B,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAhDA,CA1CF,CADD,CADD;AAiGA;;AAEDzC,yBAAyB,CAAC0C,SAA1B,GAAsC;AACrCjC,EAAAA,IAAI,EAAExC,SAAS,CAAC0E,KAAV,CAAgB;AACrBL,IAAAA,EAAE,EAAErE,SAAS,CAAC2E,MAAV,CAAiBC,UADA;AAErBjB,IAAAA,KAAK,EAAE3D,SAAS,CAAC2E,MAFI;AAGrBlB,IAAAA,IAAI,EAAEzD,SAAS,CAAC2E,MAHK;AAIrBzB,IAAAA,QAAQ,EAAElD,SAAS,CAAC6E;AAJC,GAAhB;AAD+B,CAAtC;AASA9C,yBAAyB,CAAC+C,YAA1B,GAAyC,EAAzC;AAEA,IAAMC,qBAAqB,GAAGrE,UAAU,CAACT,KAAK,CAAC+E,IAAN,CAAWjD,yBAAX,CAAD,CAAxC;AAEA,eAAegD,qBAAf","sourcesContent":["import NavLinkAdapter from '@fuse/core/NavLinkAdapter';\nimport { useDebounce } from '@fuse/hooks';\nimport FuseUtils from '@fuse/utils';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport FuseNavBadge from '../FuseNavBadge';\nimport FuseNavItem from '../FuseNavItem';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\t'& .list-item-text': {\n\t\t\tpadding: '0 0 0 16px'\n\t\t}\n\t},\n\tbutton: {\n\t\tcolor: theme.palette.text.primary,\n\t\tminHeight: 48,\n\t\t'&.active, &.active:hover, &.active:focus': {\n\t\t\tbackgroundColor: `${theme.palette.secondary.main}!important`,\n\t\t\tcolor: `${theme.palette.secondary.contrastText}!important`,\n\t\t\t'& .list-item-text-primary': {\n\t\t\t\tcolor: 'inherit'\n\t\t\t},\n\t\t\t'& .list-item-icon': {\n\t\t\t\tcolor: 'inherit'\n\t\t\t}\n\t\t},\n\t\t'&.open': {\n\t\t\tbackgroundColor: 'rgba(0,0,0,.08)'\n\t\t}\n\t},\n\tpopper: {\n\t\tzIndex: 999\n\t},\n\tpopperClose: {\n\t\tpointerEvents: 'none'\n\t}\n}));\n\nfunction FuseNavHorizontalCollapse(props) {\n\tconst userRole = useSelector(({ auth }) => auth.user.role);\n\n\tconst classes = useStyles(props);\n\tconst [opened, setOpened] = useState(false);\n\tconst { item, nestedLevel, dense } = props;\n\tconst theme = useTheme();\n\tconst { t } = useTranslation('navigation');\n\n\tconst handleToggle = useDebounce(open => {\n\t\tsetOpened(open);\n\t}, 150);\n\n\tconst hasPermission = useMemo(() => FuseUtils.hasPermission(item.auth, userRole), [item.auth, userRole]);\n\n\tif (!hasPermission) {\n\t\treturn null;\n\t}\n\n\tfunction isUrlInChildren(parent, url) {\n\t\tif (!parent.children) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let i = 0; i < parent.children.length; i += 1) {\n\t\t\tif (parent.children[i].children) {\n\t\t\t\tif (isUrlInChildren(parent.children[i], url)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<ul className={clsx(classes.root, 'relative px-0')}>\n\t\t\t<Manager>\n\t\t\t\t<Reference>\n\t\t\t\t\t{({ ref }) => (\n\t\t\t\t\t\t<div ref={ref}>\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t'list-item',\n\t\t\t\t\t\t\t\t\tclasses.button,\n\t\t\t\t\t\t\t\t\topened && 'open',\n\t\t\t\t\t\t\t\t\tisUrlInChildren(item, props.location.pathname) && 'active'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tonMouseEnter={() => handleToggle(true)}\n\t\t\t\t\t\t\t\tonMouseLeave={() => handleToggle(false)}\n\t\t\t\t\t\t\t\taria-owns={opened ? 'menu-list-grow' : null}\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\tcomponent={item.url ? NavLinkAdapter : 'li'}\n\t\t\t\t\t\t\t\tto={item.url}\n\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{item.icon && (\n\t\t\t\t\t\t\t\t\t<Icon color=\"action\" className=\"list-item-icon text-16 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{item.icon}\n\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName=\"list-item-text\"\n\t\t\t\t\t\t\t\t\tprimary={item.translate ? t(item.translate) : item.title}\n\t\t\t\t\t\t\t\t\tclasses={{ primary: 'text-14' }}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{item.badge && <FuseNavBadge className=\"mx-4\" badge={item.badge} />}\n\t\t\t\t\t\t\t\t<IconButton disableRipple className=\"w-16 h-16 ltr:ml-4 rtl:mr-4 p-0\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<Icon className=\"text-16 arrow-icon\">\n\t\t\t\t\t\t\t\t\t\t{theme.direction === 'ltr' ? 'keyboard_arrow_right' : 'keyboard_arrow_left'}\n\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Reference>\n\t\t\t\t{ReactDOM.createPortal(\n\t\t\t\t\t<Popper\n\t\t\t\t\t\tplacement={theme.direction === 'ltr' ? 'right' : 'left'}\n\t\t\t\t\t\teventsEnabled={opened}\n\t\t\t\t\t\tpositionFixed\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ ref, style, placement, arrowProps }) =>\n\t\t\t\t\t\t\topened && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t\t\t\t\tzIndex: 999 + nestedLevel + 1\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdata-placement={placement}\n\t\t\t\t\t\t\t\t\tclassName={clsx(classes.popper, { [classes.popperClose]: !opened })}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Grow in={opened} id=\"menu-list-grow\" style={{ transformOrigin: '0 0 0' }}>\n\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => handleToggle(true)}\n\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => handleToggle(false)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{item.children && (\n\t\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.children,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'popper-navigation-list',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense && 'dense',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'px-0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.children.map(_item => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FuseNavItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={_item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={`horizontal-${_item.type}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem={_item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnestedLevel={nestedLevel + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense={dense}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</Popper>,\n\t\t\t\t\tdocument.querySelector('#root')\n\t\t\t\t)}\n\t\t\t</Manager>\n\t\t</ul>\n\t);\n}\n\nFuseNavHorizontalCollapse.propTypes = {\n\titem: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\ttitle: PropTypes.string,\n\t\ticon: PropTypes.string,\n\t\tchildren: PropTypes.array\n\t})\n};\n\nFuseNavHorizontalCollapse.defaultProps = {};\n\nconst NavHorizontalCollapse = withRouter(React.memo(FuseNavHorizontalCollapse));\n\nexport default NavHorizontalCollapse;\n"]},"metadata":{},"sourceType":"module"}