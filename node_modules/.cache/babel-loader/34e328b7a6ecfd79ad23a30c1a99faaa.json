{"ast":null,"code":"import React from 'react';\nimport deepEqual from 'lodash/isEqual';\n/**\n * https://github.com/kentcdodds/use-deep-compare-effect\n */\n\nfunction checkDeps(deps) {\n  if (!deps || !deps.length) {\n    throw new Error('useDeepCompareEffect should not be used with no dependencies. Use React.useEffect instead.');\n  }\n\n  if (deps.every(isPrimitive)) {\n    throw new Error('useDeepCompareEffect should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n  }\n}\n\nfunction isPrimitive(val) {\n  return val == null || /^[sbn]/.test(typeof val);\n}\n\nfunction useDeepCompareMemoize(value) {\n  var ref = React.useRef();\n\n  if (!deepEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nfunction useDeepCompareEffect(callback, dependencies) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkDeps(dependencies);\n  }\n\n  React.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nexport function useDeepCompareEffectNoCheck(callback, dependencies) {\n  React.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\nexport default useDeepCompareEffect;","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/hooks/useDeepCompareEffect.js"],"names":["React","deepEqual","checkDeps","deps","length","Error","every","isPrimitive","val","test","useDeepCompareMemoize","value","ref","useRef","current","useDeepCompareEffect","callback","dependencies","process","env","NODE_ENV","useEffect","useDeepCompareEffectNoCheck"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AAEA;AACA;AACA;;AACA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACxB,MAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACC,MAAnB,EAA2B;AAC1B,UAAM,IAAIC,KAAJ,CAAU,4FAAV,CAAN;AACA;;AACD,MAAIF,IAAI,CAACG,KAAL,CAAWC,WAAX,CAAJ,EAA6B;AAC5B,UAAM,IAAIF,KAAJ,CACL,uHADK,CAAN;AAGA;AACD;;AAED,SAASE,WAAT,CAAqBC,GAArB,EAA0B;AACzB,SAAOA,GAAG,IAAI,IAAP,IAAe,SAASC,IAAT,CAAc,OAAOD,GAArB,CAAtB;AACA;;AAED,SAASE,qBAAT,CAA+BC,KAA/B,EAAsC;AACrC,MAAMC,GAAG,GAAGZ,KAAK,CAACa,MAAN,EAAZ;;AAEA,MAAI,CAACZ,SAAS,CAACU,KAAD,EAAQC,GAAG,CAACE,OAAZ,CAAd,EAAoC;AACnCF,IAAAA,GAAG,CAACE,OAAJ,GAAcH,KAAd;AACA;;AAED,SAAOC,GAAG,CAACE,OAAX;AACA;;AAED,SAASC,oBAAT,CAA8BC,QAA9B,EAAwCC,YAAxC,EAAsD;AACrD,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAC1ClB,IAAAA,SAAS,CAACe,YAAD,CAAT;AACA;;AACDjB,EAAAA,KAAK,CAACqB,SAAN,CAAgBL,QAAhB,EAA0BN,qBAAqB,CAACO,YAAD,CAA/C;AACA;;AAED,OAAO,SAASK,2BAAT,CAAqCN,QAArC,EAA+CC,YAA/C,EAA6D;AACnEjB,EAAAA,KAAK,CAACqB,SAAN,CAAgBL,QAAhB,EAA0BN,qBAAqB,CAACO,YAAD,CAA/C;AACA;AAED,eAAeF,oBAAf","sourcesContent":["import React from 'react';\nimport deepEqual from 'lodash/isEqual';\n\n/**\n * https://github.com/kentcdodds/use-deep-compare-effect\n */\nfunction checkDeps(deps) {\n\tif (!deps || !deps.length) {\n\t\tthrow new Error('useDeepCompareEffect should not be used with no dependencies. Use React.useEffect instead.');\n\t}\n\tif (deps.every(isPrimitive)) {\n\t\tthrow new Error(\n\t\t\t'useDeepCompareEffect should not be used with dependencies that are all primitive values. Use React.useEffect instead.'\n\t\t);\n\t}\n}\n\nfunction isPrimitive(val) {\n\treturn val == null || /^[sbn]/.test(typeof val);\n}\n\nfunction useDeepCompareMemoize(value) {\n\tconst ref = React.useRef();\n\n\tif (!deepEqual(value, ref.current)) {\n\t\tref.current = value;\n\t}\n\n\treturn ref.current;\n}\n\nfunction useDeepCompareEffect(callback, dependencies) {\n\tif (process.env.NODE_ENV !== 'production') {\n\t\tcheckDeps(dependencies);\n\t}\n\tReact.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nexport function useDeepCompareEffectNoCheck(callback, dependencies) {\n\tReact.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nexport default useDeepCompareEffect;\n"]},"metadata":{},"sourceType":"module"}