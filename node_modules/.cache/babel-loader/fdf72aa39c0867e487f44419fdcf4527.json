{"ast":null,"code":"import _defineProperty from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{defaultSettings,defaultThemeOptions,defaultThemes,extendThemeWithMixins,getParsedQuerySettings,mainThemeVariations,mustHaveThemeOptions}from'@fuse/default-settings';import _ from'@lodash';import{createMuiTheme}from'@material-ui/core/styles';import FuseSettingsConfig from'app/fuse-configs/settingsConfig';import FuseThemesConfig from'app/fuse-configs/themesConfig';import FuseLayoutConfigs from'app/fuse-layouts/FuseLayoutConfigs';import*as Actions from'app/store/actions/fuse';var themesObjRaw=Object.keys(FuseThemesConfig).length!==0?FuseThemesConfig:defaultThemes;var initialSettings=getInitialSettings();var initialThemes=getInitialThemes();var initialState=_objectSpread({initial:initialSettings,defaults:_.merge({},initialSettings),current:_.merge({},initialSettings),themes:initialThemes},getThemeOptions(initialThemes,initialSettings));var settings=function settings(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case Actions.SET_SETTINGS:{var current=generateSettings(state.defaults,action.value);var themes=current.theme.main!==state.current.theme.main?_objectSpread(_objectSpread({},state.themes),updateMainThemeVariations(current.theme.main,state.themes)):state.themes;return _objectSpread(_objectSpread({},state),{},{current:current,themes:themes},getThemeOptions(themes,current));}case Actions.SET_INITIAL_SETTINGS:{return _.merge({},initialState);}case Actions.SET_DEFAULT_SETTINGS:{var defaults=generateSettings(state.defaults,action.value);var _themes2=defaults.theme.main!==state.defaults.theme.main?_objectSpread(_objectSpread({},state.themes),updateMainThemeVariations(defaults.theme.main,state.themes)):state.themes;_themes2=defaults.direction!==state.defaults.direction?updateThemeDirections(_themes2,defaults.direction):_themes2;return _objectSpread(_objectSpread({},state),{},{defaults:_.merge({},defaults),current:_.merge({},defaults),themes:_themes2},getThemeOptions(_themes2,defaults));}case Actions.RESET_DEFAULT_SETTINGS:{var _themes3=_objectSpread(_objectSpread({},state.themes),updateMainThemeVariations(state.defaults.theme.main,state.themes));return _objectSpread(_objectSpread({},state),{},{defaults:_.merge({},state.defaults),current:_.merge({},state.defaults),themes:_themes3},getThemeOptions(_themes3,state.defaults));}default:{return state;}}};export default settings;/**\n * SETTINGS\n */function getInitialSettings(){var defaultLayoutStyle=FuseSettingsConfig.layout&&FuseSettingsConfig.layout.style?FuseSettingsConfig.layout.style:'layout1';var layout={style:defaultLayoutStyle,config:FuseLayoutConfigs[defaultLayoutStyle].defaults};return _.merge({},defaultSettings,{layout:layout},FuseSettingsConfig,getParsedQuerySettings());}/**\n * THEMES\n */function getInitialThemes(){var direction=initialSettings.direction;var themes=Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(themesObjRaw).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];var muiTheme=_.merge({},defaultThemeOptions,value,mustHaveThemeOptions);return _defineProperty({},key,createMuiTheme(_.merge({},muiTheme,{mixins:extendThemeWithMixins(muiTheme),direction:direction})));}))));return _objectSpread(_objectSpread({},themes),mainThemeVariations(_objectSpread(_objectSpread({},themesObjRaw[initialSettings.theme.main]),{},{mixins:extendThemeWithMixins(themesObjRaw[initialSettings.theme.main]),direction:direction})));}function updateMainThemeVariations(mainTheme,themes){return mainThemeVariations(_objectSpread(_objectSpread({},themesObjRaw[mainTheme]),{},{mixins:extendThemeWithMixins(themesObjRaw[mainTheme]),direction:themes[mainTheme].direction}));}function getThemeOptions(_themes,_settings){return _objectSpread({mainTheme:_themes[_settings.theme.main],navbarTheme:_themes[_settings.theme.navbar],toolbarTheme:_themes[_settings.theme.toolbar],footerTheme:_themes[_settings.theme.footer]},updateMainThemeVariations(_settings.theme.main,_themes));}function updateThemeDirections(themes,direction){var response={};Object.entries(themes).forEach(function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],value=_ref5[1];response[key]=_objectSpread(_objectSpread({},value),{},{direction:direction});});return response;}export function generateSettings(_defaultSettings,_newSettings){return _.merge({},_defaultSettings,_newSettings&&_newSettings.layout&&_newSettings.layout.style?{layout:{config:FuseLayoutConfigs[_newSettings.layout.style].defaults}}:{},_newSettings);}","map":null,"metadata":{},"sourceType":"module"}