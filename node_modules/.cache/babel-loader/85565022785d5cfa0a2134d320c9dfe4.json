{"ast":null,"code":"import _objectSpread from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Button,withStyles}from'@material-ui/core';import VendorChildDialog from'./VendorChildDialog';import JwtService from'app/services/jwtService';var styles=function styles(){return{button:{marginRight:8}};};function EditChild(_ref){var classes=_ref.classes,reload=_ref.reload,vendor_id=_ref.vendor_id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),vendor=_useState10[0],setVendor=_useState10[1];var axios=JwtService.getAxios();useEffect(function(){if(vendor)setOpen(true);},[vendor]);function handleOpen(){return _handleOpen.apply(this,arguments);}function _handleOpen(){_handleOpen=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/admin/vendor/'+vendor_id);case 2:res=_context.sent;data=res.data.data;setVendor(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleOpen.apply(this,arguments);}function handleClose(){setVendor(null);setOpen(false);}function handleClick(_x){return _handleClick.apply(this,arguments);}function _handleClick(){_handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(post){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return axios.put(\"/api/admin/update-vendor-child/\".concat(vendor_id),_objectSpread({},post));case 4:res=_context2.sent;if(res.data.status){setOpen(false);reload();}else{setMessage(res.data.message);setError(res.data.errors);}_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);setError(_context2.t0);case 12:setLoading(false);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return _handleClick.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(VendorChildDialog,{open:open,handleClose:handleClose,title:\"Update Branch\",handleClick:handleClick,loading:loading,error:error,errorMessage:message,incoming_vendor:vendor}),/*#__PURE__*/React.createElement(Button,{onClick:handleOpen,className:classes.button+' mx-8 normal-case',variant:\"contained\",color:\"secondary\"},\"Edit\"));}export default withStyles(styles)(EditChild);","map":null,"metadata":{},"sourceType":"module"}