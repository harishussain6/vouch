{"ast":null,"code":"import _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\@fuse\\\\core\\\\FuseSettings\\\\FuseSettings.js\";\nimport FuseLayoutConfigs from '@fuse/layouts/FuseLayoutConfigs';\nimport _ from '@lodash';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport * as AuthActions from 'app/auth/store/actions';\nimport * as Actions from 'app/store/actions';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    formControl: {\n      margin: '6px 0',\n      width: '100%',\n      '&:last-child': {\n        marginBottom: 0\n      }\n    },\n    group: {},\n    formGroupTitle: {\n      position: 'absolute',\n      top: -10,\n      left: 8,\n      fontWeight: 600,\n      padding: '0 4px',\n      backgroundColor: theme.palette.background.paper\n    },\n    formGroup: {\n      position: 'relative',\n      border: \"1px solid \".concat(theme.palette.divider),\n      borderRadius: 2,\n      padding: '12px 12px 0 12px',\n      margin: '24px 0 16px 0',\n      '&:first-of-type': {\n        marginTop: 16\n      }\n    }\n  };\n});\n\nfunction FuseSettings(props) {\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var user = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user;\n  });\n  var themes = useSelector(function (_ref2) {\n    var fuse = _ref2.fuse;\n    return fuse.settings.themes;\n  });\n  var settings = useSelector(function (_ref3) {\n    var fuse = _ref3.fuse;\n    return fuse.settings.current;\n  });\n  var classes = useStyles(props);\n\n  function handleChange(event) {\n    var newSettings = _.set(_.merge({}, settings), event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value);\n    /**\n     * If layout style changes,\n     * Reset Layout Configuration\n     */\n\n\n    if (event.target.name === 'layout.style' && event.target.value !== settings.layout.style) {\n      newSettings.layout.config = {};\n    }\n\n    if (user.role === 'guest') {\n      dispatch(Actions.setDefaultSettings(newSettings));\n    } else {\n      dispatch(AuthActions.updateUserSettings(newSettings));\n    }\n  }\n\n  var ThemeSelect = function ThemeSelect(_ref4) {\n    var value = _ref4.value,\n        name = _ref4.name,\n        handleThemeChange = _ref4.handleThemeChange;\n    return /*#__PURE__*/React.createElement(Select, {\n      className: \"w-full\",\n      value: value,\n      onChange: handleThemeChange,\n      name: name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }\n    }, Object.entries(themes).map(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          val = _ref6[1];\n\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: key,\n        value: key,\n        className: \"m-8 mt-0 rounded-lg\",\n        style: {\n          backgroundColor: val.palette.background.default,\n          color: val.palette.text.primary,\n          border: \"1px solid \".concat(val.palette.divider)\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }\n      }, _.startCase(key), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex w-full h-8 block absolute bottom-0 left-0 right-0\",\n        style: {\n          borderTop: \"1px solid \".concat(val.palette.divider)\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.primary.main\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.secondary.main\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.error.main\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.background.paper\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 8\n        }\n      })));\n    }));\n  };\n\n  var LayoutSelect = function LayoutSelect() {\n    return /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      className: classes.formControl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      component: \"legend\",\n      className: \"text-14\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 4\n      }\n    }, \"Style\"), /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"Layout Style\",\n      name: \"layout.style\",\n      className: classes.group,\n      value: settings.layout.style,\n      onChange: handleChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 4\n      }\n    }, Object.entries(FuseLayoutConfigs).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          layout = _ref8[1];\n\n      return /*#__PURE__*/React.createElement(FormControlLabel, {\n        key: key,\n        value: key,\n        control: /*#__PURE__*/React.createElement(Radio, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 55\n          }\n        }),\n        label: layout.title,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }\n      });\n    })));\n  };\n\n  var DirectionSelect = function DirectionSelect() {\n    return /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      className: classes.formControl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      component: \"legend\",\n      className: \"text-14\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 4\n      }\n    }, \"Direction\"), /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"Layout Style\",\n      name: \"direction\",\n      className: classes.group,\n      value: settings.direction,\n      onChange: handleChange,\n      row: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      key: \"rtl\",\n      value: \"rtl\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 54\n        }\n      }),\n      label: \"RTL\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      key: \"ltr\",\n      value: \"ltr\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 54\n        }\n      }),\n      label: \"LTR\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }\n    })));\n  };\n\n  var getForm = function getForm(form, prefix) {\n    return Object.entries(form).map(function (_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n          key = _ref10[0],\n          formControl = _ref10[1];\n\n      var target = prefix ? \"\".concat(prefix, \".\").concat(key) : key;\n\n      switch (formControl.type) {\n        case 'radio':\n          {\n            return /*#__PURE__*/React.createElement(FormControl, {\n              key: target,\n              component: \"fieldset\",\n              className: classes.formControl,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 7\n              }\n            }, /*#__PURE__*/React.createElement(FormLabel, {\n              component: \"legend\",\n              className: \"text-14\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 8\n              }\n            }, formControl.title), /*#__PURE__*/React.createElement(RadioGroup, {\n              \"aria-label\": formControl.title,\n              name: \"layout.config.\".concat(target),\n              className: classes.group,\n              value: _.get(settings.layout.config, target),\n              onChange: handleChange,\n              row: formControl.options.length < 4,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 8\n              }\n            }, formControl.options.map(function (opt) {\n              return /*#__PURE__*/React.createElement(FormControlLabel, {\n                key: opt.value,\n                value: opt.value,\n                control: /*#__PURE__*/React.createElement(Radio, {\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 20\n                  }\n                }),\n                label: opt.name,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 10\n                }\n              });\n            })));\n          }\n\n        case 'switch':\n          {\n            return /*#__PURE__*/React.createElement(FormControl, {\n              key: target,\n              component: \"fieldset\",\n              className: classes.formControl,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 7\n              }\n            }, /*#__PURE__*/React.createElement(FormControlLabel, {\n              classes: {// root: \"flex-row-reverse justify-end pl-16\"\n              },\n              control: /*#__PURE__*/React.createElement(Switch, {\n                name: \"layout.config.\".concat(target),\n                checked: _.get(settings.layout.config, target),\n                onChange: handleChange,\n                \"aria-label\": formControl.title,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 10\n                }\n              }),\n              label: /*#__PURE__*/React.createElement(FormLabel, {\n                component: \"legend\",\n                className: \"text-14\",\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 10\n                }\n              }, formControl.title),\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 8\n              }\n            }));\n          }\n\n        case 'group':\n          {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              key: target,\n              className: classes.formGroup,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 7\n              }\n            }, /*#__PURE__*/React.createElement(Typography, {\n              className: classes.formGroupTitle,\n              color: \"textSecondary\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 8\n              }\n            }, formControl.title), getForm(formControl.children, key));\n          }\n\n        default:\n          {\n            return '';\n          }\n      }\n    });\n  };\n\n  function LayoutConfig() {\n    var form = FuseLayoutConfigs[settings.layout.style].form;\n    return getForm(form);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.formGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.formGroupTitle,\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }\n  }, \"Layout\"), /*#__PURE__*/React.createElement(LayoutSelect, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(LayoutConfig, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: \"my-16 text-12 italic\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }\n  }, \"*Not all option combinations are available\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.formGroup, 'pb-16'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.formGroupTitle,\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }, \"Theme\"), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 6\n    }\n  }, \"Main\"), /*#__PURE__*/React.createElement(ThemeSelect, {\n    value: settings.theme.main,\n    name: \"theme.main\",\n    handleThemeChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 6\n    }\n  }, \"Navbar\"), /*#__PURE__*/React.createElement(ThemeSelect, {\n    value: settings.theme.navbar,\n    name: \"theme.navbar\",\n    handleThemeChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 6\n    }\n  }, \"Toolbar\"), /*#__PURE__*/React.createElement(ThemeSelect, {\n    value: settings.theme.toolbar,\n    name: \"theme.toolbar\",\n    handleThemeChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 6\n    }\n  }, \"Footer\"), /*#__PURE__*/React.createElement(ThemeSelect, {\n    value: settings.theme.footer,\n    name: \"theme.footer\",\n    handleThemeChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 5\n    }\n  }, \"Custom Scrollbars\"), /*#__PURE__*/React.createElement(Switch, {\n    checked: settings.customScrollbars,\n    onChange: handleChange,\n    \"aria-label\": \"Custom Scrollbars\",\n    name: \"customScrollbars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 5\n    }\n  }, \"Animations\"), /*#__PURE__*/React.createElement(Switch, {\n    checked: settings.animations,\n    onChange: handleChange,\n    \"aria-label\": \"Animations\",\n    name: \"animations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(DirectionSelect, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 4\n    }\n  }));\n}\n\nexport default React.memo(FuseSettings);","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/core/FuseSettings/FuseSettings.js"],"names":["FuseLayoutConfigs","_","FormControl","FormControlLabel","FormLabel","MenuItem","Radio","RadioGroup","Select","makeStyles","Switch","Typography","AuthActions","Actions","clsx","React","useDispatch","useSelector","useStyles","theme","root","formControl","margin","width","marginBottom","group","formGroupTitle","position","top","left","fontWeight","padding","backgroundColor","palette","background","paper","formGroup","border","divider","borderRadius","marginTop","FuseSettings","props","dispatch","user","auth","themes","fuse","settings","current","classes","handleChange","event","newSettings","set","merge","target","name","type","checked","value","layout","style","config","role","setDefaultSettings","updateUserSettings","ThemeSelect","handleThemeChange","Object","entries","map","key","val","default","color","text","primary","startCase","borderTop","main","secondary","error","LayoutSelect","title","DirectionSelect","direction","getForm","form","prefix","get","options","length","opt","children","LayoutConfig","navbar","toolbar","footer","customScrollbars","animations","memo"],"mappings":"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","sourcesContent":["import FuseLayoutConfigs from '@fuse/layouts/FuseLayoutConfigs';\nimport _ from '@lodash';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport * as AuthActions from 'app/auth/store/actions';\nimport * as Actions from 'app/store/actions';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {},\n\tformControl: {\n\t\tmargin: '6px 0',\n\t\twidth: '100%',\n\t\t'&:last-child': {\n\t\t\tmarginBottom: 0\n\t\t}\n\t},\n\tgroup: {},\n\tformGroupTitle: {\n\t\tposition: 'absolute',\n\t\ttop: -10,\n\t\tleft: 8,\n\t\tfontWeight: 600,\n\t\tpadding: '0 4px',\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tformGroup: {\n\t\tposition: 'relative',\n\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\tborderRadius: 2,\n\t\tpadding: '12px 12px 0 12px',\n\t\tmargin: '24px 0 16px 0',\n\t\t'&:first-of-type': {\n\t\t\tmarginTop: 16\n\t\t}\n\t}\n}));\n\nfunction FuseSettings(props) {\n\tconst dispatch = useDispatch();\n\tconst user = useSelector(({ auth }) => auth.user);\n\tconst themes = useSelector(({ fuse }) => fuse.settings.themes);\n\tconst settings = useSelector(({ fuse }) => fuse.settings.current);\n\n\tconst classes = useStyles(props);\n\n\tfunction handleChange(event) {\n\t\tconst newSettings = _.set(\n\t\t\t_.merge({}, settings),\n\t\t\tevent.target.name,\n\t\t\tevent.target.type === 'checkbox' ? event.target.checked : event.target.value\n\t\t);\n\n\t\t/**\n\t\t * If layout style changes,\n\t\t * Reset Layout Configuration\n\t\t */\n\t\tif (event.target.name === 'layout.style' && event.target.value !== settings.layout.style) {\n\t\t\tnewSettings.layout.config = {};\n\t\t}\n\n\t\tif (user.role === 'guest') {\n\t\t\tdispatch(Actions.setDefaultSettings(newSettings));\n\t\t} else {\n\t\t\tdispatch(AuthActions.updateUserSettings(newSettings));\n\t\t}\n\t}\n\n\tconst ThemeSelect = ({ value, name, handleThemeChange }) => {\n\t\treturn (\n\t\t\t<Select className=\"w-full\" value={value} onChange={handleThemeChange} name={name}>\n\t\t\t\t{Object.entries(themes).map(([key, val]) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tvalue={key}\n\t\t\t\t\t\tclassName=\"m-8 mt-0 rounded-lg\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: val.palette.background.default,\n\t\t\t\t\t\t\tcolor: val.palette.text.primary,\n\t\t\t\t\t\t\tborder: `1px solid ${val.palette.divider}`\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{_.startCase(key)}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"flex w-full h-8 block absolute bottom-0 left-0 right-0\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderTop: `1px solid ${val.palette.divider}`\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"w-1/4 h-8\" style={{ backgroundColor: val.palette.primary.main }} />\n\t\t\t\t\t\t\t<div className=\"w-1/4 h-8\" style={{ backgroundColor: val.palette.secondary.main }} />\n\t\t\t\t\t\t\t<div className=\"w-1/4 h-8\" style={{ backgroundColor: val.palette.error.main }} />\n\t\t\t\t\t\t\t<div className=\"w-1/4 h-8\" style={{ backgroundColor: val.palette.background.paper }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Select>\n\t\t);\n\t};\n\n\tconst LayoutSelect = () => (\n\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\tStyle\n\t\t\t</FormLabel>\n\n\t\t\t<RadioGroup\n\t\t\t\taria-label=\"Layout Style\"\n\t\t\t\tname=\"layout.style\"\n\t\t\t\tclassName={classes.group}\n\t\t\t\tvalue={settings.layout.style}\n\t\t\t\tonChange={handleChange}\n\t\t\t>\n\t\t\t\t{Object.entries(FuseLayoutConfigs).map(([key, layout]) => (\n\t\t\t\t\t<FormControlLabel key={key} value={key} control={<Radio />} label={layout.title} />\n\t\t\t\t))}\n\t\t\t</RadioGroup>\n\t\t</FormControl>\n\t);\n\n\tconst DirectionSelect = () => (\n\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\tDirection\n\t\t\t</FormLabel>\n\n\t\t\t<RadioGroup\n\t\t\t\taria-label=\"Layout Style\"\n\t\t\t\tname=\"direction\"\n\t\t\t\tclassName={classes.group}\n\t\t\t\tvalue={settings.direction}\n\t\t\t\tonChange={handleChange}\n\t\t\t\trow\n\t\t\t>\n\t\t\t\t<FormControlLabel key=\"rtl\" value=\"rtl\" control={<Radio />} label=\"RTL\" />\n\t\t\t\t<FormControlLabel key=\"ltr\" value=\"ltr\" control={<Radio />} label=\"LTR\" />\n\t\t\t</RadioGroup>\n\t\t</FormControl>\n\t);\n\n\tconst getForm = (form, prefix) =>\n\t\tObject.entries(form).map(([key, formControl]) => {\n\t\t\tconst target = prefix ? `${prefix}.${key}` : key;\n\t\t\tswitch (formControl.type) {\n\t\t\t\tcase 'radio': {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<FormControl key={target} component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\t\t\t{formControl.title}\n\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\taria-label={formControl.title}\n\t\t\t\t\t\t\t\tname={`layout.config.${target}`}\n\t\t\t\t\t\t\t\tclassName={classes.group}\n\t\t\t\t\t\t\t\tvalue={_.get(settings.layout.config, target)}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\trow={formControl.options.length < 4}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formControl.options.map(opt => (\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tkey={opt.value}\n\t\t\t\t\t\t\t\t\t\tvalue={opt.value}\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\n\t\t\t\t\t\t\t\t\t\tlabel={opt.name}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'switch': {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<FormControl key={target} component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tclasses={\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t// root: \"flex-row-reverse justify-end pl-16\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tname={`layout.config.${target}`}\n\t\t\t\t\t\t\t\t\t\tchecked={_.get(settings.layout.config, target)}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\taria-label={formControl.title}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\t\t\t\t\t{formControl.title}\n\t\t\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'group': {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={target} className={classes.formGroup}>\n\t\t\t\t\t\t\t<Typography className={classes.formGroupTitle} color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{formControl.title}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{getForm(formControl.children, key)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction LayoutConfig() {\n\t\tconst { form } = FuseLayoutConfigs[settings.layout.style];\n\t\treturn getForm(form);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.formGroup}>\n\t\t\t\t<Typography className={classes.formGroupTitle} color=\"textSecondary\">\n\t\t\t\t\tLayout\n\t\t\t\t</Typography>\n\n\t\t\t\t<LayoutSelect />\n\n\t\t\t\t<LayoutConfig />\n\n\t\t\t\t<Typography className=\"my-16 text-12 italic\" color=\"textSecondary\">\n\t\t\t\t\t*Not all option combinations are available\n\t\t\t\t</Typography>\n\t\t\t</div>\n\n\t\t\t<div className={clsx(classes.formGroup, 'pb-16')}>\n\t\t\t\t<Typography className={classes.formGroupTitle} color=\"textSecondary\">\n\t\t\t\t\tTheme\n\t\t\t\t</Typography>\n\n\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\tMain\n\t\t\t\t\t</FormLabel>\n\t\t\t\t\t<ThemeSelect value={settings.theme.main} name=\"theme.main\" handleThemeChange={handleChange} />\n\t\t\t\t</FormControl>\n\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\tNavbar\n\t\t\t\t\t</FormLabel>\n\t\t\t\t\t<ThemeSelect value={settings.theme.navbar} name=\"theme.navbar\" handleThemeChange={handleChange} />\n\t\t\t\t</FormControl>\n\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\tToolbar\n\t\t\t\t\t</FormLabel>\n\t\t\t\t\t<ThemeSelect value={settings.theme.toolbar} name=\"theme.toolbar\" handleThemeChange={handleChange} />\n\t\t\t\t</FormControl>\n\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\t\tFooter\n\t\t\t\t\t</FormLabel>\n\t\t\t\t\t<ThemeSelect value={settings.theme.footer} name=\"theme.footer\" handleThemeChange={handleChange} />\n\t\t\t\t</FormControl>\n\t\t\t</div>\n\n\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\tCustom Scrollbars\n\t\t\t\t</FormLabel>\n\t\t\t\t<Switch\n\t\t\t\t\tchecked={settings.customScrollbars}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\taria-label=\"Custom Scrollbars\"\n\t\t\t\t\tname=\"customScrollbars\"\n\t\t\t\t/>\n\t\t\t</FormControl>\n\n\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t<FormLabel component=\"legend\" className=\"text-14\">\n\t\t\t\t\tAnimations\n\t\t\t\t</FormLabel>\n\t\t\t\t<Switch\n\t\t\t\t\tchecked={settings.animations}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\taria-label=\"Animations\"\n\t\t\t\t\tname=\"animations\"\n\t\t\t\t/>\n\t\t\t</FormControl>\n\n\t\t\t<DirectionSelect />\n\t\t</div>\n\t);\n}\n\nexport default React.memo(FuseSettings);\n"]},"metadata":{},"sourceType":"module"}