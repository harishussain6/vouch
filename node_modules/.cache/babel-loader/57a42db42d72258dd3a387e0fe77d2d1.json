{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _captcha_input = require('../../ui/input/captcha_input');\n\nvar _captcha_input2 = _interopRequireDefault(_captcha_input);\n\nvar _index = require('../../core/index');\n\nvar l = _interopRequireWildcard(_index);\n\nvar _index2 = require('../../store/index');\n\nvar _captcha = require('../captcha');\n\nvar captchaField = _interopRequireWildcard(_captcha);\n\nvar _index3 = require('../index');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Captcha = function Captcha(_ref) {\n  var lock = _ref.lock,\n      i18n = _ref.i18n,\n      onReload = _ref.onReload;\n  var lockId = l.id(lock);\n\n  function handleChange(e) {\n    (0, _index2.swap)(_index2.updateEntity, 'lock', lockId, captchaField.set, e.target.value);\n  }\n\n  var captcha = l.captcha(lock);\n  var placeholder = captcha.get('type') === 'code' ? i18n.str('captchaCodeInputPlaceholder') : i18n.str('captchaMathInputPlaceholder');\n  var value = (0, _index3.getFieldValue)(lock, 'captcha');\n  var isValid = !(0, _index3.isFieldVisiblyInvalid)(lock, 'captcha');\n  return _react2.default.createElement(_captcha_input2.default, {\n    lockId: lockId,\n    image: captcha.get('image'),\n    placeholder: placeholder,\n    isValid: isValid,\n    onChange: handleChange,\n    onReload: onReload,\n    value: value,\n    invalidHint: i18n.str('blankErrorHint')\n  });\n};\n/* eslint-disable no-nested-ternary */\n\n\nCaptcha.propTypes = {\n  lock: _propTypes2.default.object.isRequired,\n  error: _propTypes2.default.bool,\n  onReload: _propTypes2.default.func.isRequired\n};\nCaptcha.defaultProps = {\n  error: false\n};\nexports.default = Captcha;","map":null,"metadata":{},"sourceType":"script"}