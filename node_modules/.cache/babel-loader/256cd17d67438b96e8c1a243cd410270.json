{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\vendor_review\\\\Vendors.js\";\nimport React from 'react';\nimport JwtService from 'app/services/jwtService';\nimport { Grid } from '@material-ui/core';\nimport MaterialTable from 'material-table';\nimport { useHistory } from 'react-router';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { connect } from 'react-redux';\nJwtService.init();\nvar axios = JwtService.getAxios();\n\nfunction Vendors(_ref) {\n  var user = _ref.user;\n  var history = useHistory();\n\n  function getData(_x) {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(query) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n                  var params, vendors, resp;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          params = {\n                            page: query.page,\n                            limit: query.pageSize,\n                            q: query.search\n                          };\n                          _context.next = 3;\n                          return axios.get('/api/admin/vendor-review', {\n                            params: params\n                          });\n\n                        case 3:\n                          vendors = _context.sent;\n                          resp = vendors.data;\n\n                          if (resp.status) {\n                            resolve({\n                              data: resp.data.data,\n                              /// your data array\n                              page: query.page,\n                              // current page number\n                              totalCount: resp.data.total // total row number\n\n                            });\n                          } else {\n                            resolve({\n                              data: [],\n                              /// your data array\n                              page: 0,\n                              // current page number\n                              totalCount: 0 // total row number\n\n                            });\n                          }\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref2.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  function actions() {\n    var actions = [{\n      icon: 'visibility',\n      tooltip: 'View Vendor',\n      onClick: function onClick(event, data) {\n        return history.push('/vendor_review/' + data.id);\n      }\n    }];\n\n    if (user.data.role !== 'creative') {\n      actions.push({\n        icon: 'add_circle_outline',\n        isFreeAction: true,\n        onClick: function onClick() {\n          return history.push('/vendor_review/new');\n        }\n      });\n    }\n\n    return actions;\n  }\n\n  return /*#__PURE__*/React.createElement(FusePageSimple, {\n    content: /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(MaterialTable, {\n      title: \"Vendors For Review\",\n      data: getData,\n      columns: [{\n        title: 'Name',\n        field: 'name',\n        width: 30\n      }, {\n        title: 'Locality',\n        field: 'locality',\n        width: 30\n      }, {\n        title: 'Live',\n        width: 10,\n        render: function render(rowData) {\n          return rowData.is_live ? 'Live' : 'Pending';\n        }\n      }],\n      actions: actions(),\n      options: {\n        pageSize: 10,\n        pageSizeOptions: [10, 20, 50],\n        actionsColumnIndex: -1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }\n  });\n}\n\nfunction mapStateToProps(_ref3) {\n  var auth = _ref3.auth;\n  return {\n    user: auth.user\n  };\n}\n\nexport default connect(mapStateToProps)(Vendors);","map":{"version":3,"sources":["D:/Projects/live/src/app/main/vendor_review/Vendors.js"],"names":["React","JwtService","Grid","MaterialTable","useHistory","FusePageSimple","connect","init","axios","getAxios","Vendors","user","history","getData","query","Promise","resolve","params","page","limit","pageSize","q","search","get","vendors","resp","data","status","totalCount","total","actions","icon","tooltip","onClick","event","push","id","role","isFreeAction","title","field","width","render","rowData","is_live","pageSizeOptions","actionsColumnIndex","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport JwtService from 'app/services/jwtService';\nimport { Grid } from '@material-ui/core';\nimport MaterialTable from 'material-table';\nimport { useHistory } from 'react-router';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { connect } from 'react-redux';\n\nJwtService.init();\nconst axios = JwtService.getAxios();\n\nfunction Vendors({ user }) {\n\tconst history = useHistory();\n\n\tasync function getData(query) {\n\t\treturn new Promise(async resolve => {\n\t\t\tconst params = {\n\t\t\t\tpage: query.page,\n\t\t\t\tlimit: query.pageSize,\n\t\t\t\tq: query.search\n\t\t\t};\n\n\t\t\tconst vendors = await axios.get('/api/admin/vendor-review', {\n\t\t\t\tparams\n\t\t\t});\n\t\t\tconst resp = vendors.data;\n\t\t\tif (resp.status) {\n\t\t\t\tresolve({\n\t\t\t\t\tdata: resp.data.data, /// your data array\n\t\t\t\t\tpage: query.page, // current page number\n\t\t\t\t\ttotalCount: resp.data.total // total row number\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve({\n\t\t\t\t\tdata: [], /// your data array\n\t\t\t\t\tpage: 0, // current page number\n\t\t\t\t\ttotalCount: 0 // total row number\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction actions() {\n\t\tconst actions = [\n\t\t\t{\n\t\t\t\ticon: 'visibility',\n\t\t\t\ttooltip: 'View Vendor',\n\t\t\t\tonClick: (event, data) => history.push('/vendor_review/' + data.id)\n\t\t\t}\n\t\t];\n\n\t\tif (user.data.role !== 'creative') {\n\t\t\tactions.push({\n\t\t\t\ticon: 'add_circle_outline',\n\t\t\t\tisFreeAction: true,\n\t\t\t\tonClick: () => history.push('/vendor_review/new')\n\t\t\t});\n\t\t}\n\t\treturn actions;\n\t}\n\n\treturn (\n\t\t<FusePageSimple\n\t\t\tcontent={\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item md={12}>\n\t\t\t\t\t\t<MaterialTable\n\t\t\t\t\t\t\ttitle=\"Vendors For Review\"\n\t\t\t\t\t\t\tdata={getData}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Name',\n\t\t\t\t\t\t\t\t\tfield: 'name',\n\t\t\t\t\t\t\t\t\twidth: 30\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Locality',\n\t\t\t\t\t\t\t\t\tfield: 'locality',\n\t\t\t\t\t\t\t\t\twidth: 30\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'Live',\n\t\t\t\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\t\t\t\trender: rowData => (rowData.is_live ? 'Live' : 'Pending')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tactions={actions()}\n\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\tpageSize: 10,\n\t\t\t\t\t\t\t\tpageSizeOptions: [10, 20, 50],\n\t\t\t\t\t\t\t\tactionsColumnIndex: -1\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t/>\n\t);\n}\nfunction mapStateToProps({ auth }) {\n\treturn {\n\t\tuser: auth.user\n\t};\n}\n\nexport default connect(mapStateToProps)(Vendors);\n"]},"metadata":{},"sourceType":"module"}