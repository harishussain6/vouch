{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from'react';import JwtService from'app/services/jwtService';import{Grid}from'@material-ui/core';import MaterialTable from'material-table';import{useHistory}from'react-router';import FusePageSimple from'@fuse/core/FusePageSimple';import{connect}from'react-redux';function Vendors(_ref){var user=_ref.user;// const [From, setFrom] = useState([]);\n// const [To, setTo] = useState([]);\n// const [count, setCount] = useState([]);\n// const [page, setPage] = useState([]);\n// const [rowsperpage, setRowsPerPage] = useState([]);\nvar history=useHistory();function getData(_x){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(query){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve){var axios,params,vendors,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:JwtService.init();axios=JwtService.getAxios();params={page:query.page,// page: ((query.page ==0 )?1:query.page),\nlimit:query.pageSize,q:query.search};// setFrom((((query.page ==0 )?1:query.page) * query.pageSize)-query.pageSize+1)\n// setTo((((query.page ==0 )?1:query.page) * query.pageSize))\n// setPage(query.pageSize)\n// setRowsPerPage(query.pageSize);\nif(user.data.role==='vendor')params.parent_id=user.data.xid;else params.parent_id=0;_context.next=6;return axios.get('/api/admin/vendor',{params:params});case 6:vendors=_context.sent;resp=vendors.data;if(resp.status){// setCount(resp.data.total)\nresolve({data:resp.data.data,/// your data array\npage:query.page,// current page number\n// page: ((query.page ==0 )?1:query.page), // current page number\ntotalCount:resp.data.total// total row number\n});}else{resolve({data:[],/// your data array\npage:0,// current page number\ntotalCount:10// total row number\n});}case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _getData.apply(this,arguments);}function actions(){var actions=[];if(['admin','it','creative','alliance'].includes(user.data.role)){actions.push({icon:'visibility',tooltip:'View Vendor',onClick:function onClick(event,data){return history.push('/vendor/'+data.id+\"/about\");}});}return actions;}return/*#__PURE__*/React.createElement(FusePageSimple,{content:/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,md:12},/*#__PURE__*/React.createElement(MaterialTable,{title:\"Vendors\",data:getData,columns:[{title:'Name',field:'name',width:30},{title:'Locality',field:'locality',width:30},{title:'City',field:'city.name',width:10},{title:'Status',field:'status',width:10}],actions:actions(),options:{pageSize:10,pageSizeOptions:[10,20,50],actionsColumnIndex:-1}// components={{\n// \tPagination: ({from,to,count,page}) => {\n// \t  return <CustomPaginationComponent params={{ From:From,To:To, count:count,page:page }} />;\n// \t}\n//   }}\n})))});}function mapStateToProps(_ref3){var auth=_ref3.auth;return{user:auth.user};}export default connect(mapStateToProps)(Vendors);","map":null,"metadata":{},"sourceType":"module"}