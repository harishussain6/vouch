{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\@fuse\\\\core\\\\FuseShortcuts\\\\FuseShortcuts.js\";\nimport FuseAnimateGroup from '@fuse/core/FuseAnimateGroup';\nimport FuseUtils from '@fuse/utils';\nimport { amber } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport * as UserActions from 'app/auth/store/actions';\nimport clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nvar useStyles = makeStyles({\n  root: {\n    '&.horizontal': {},\n    '&.vertical': {\n      flexDirection: 'column'\n    }\n  },\n  item: {\n    textDecoration: 'none!important',\n    color: 'inherit'\n  },\n  addIcon: {\n    color: amber[600]\n  }\n});\n\nfunction FuseShortcuts(props) {\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var shortcuts = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.data.shortcuts;\n  });\n  var navigationData = useSelector(function (_ref2) {\n    var fuse = _ref2.fuse;\n    return fuse.navigation;\n  });\n  var classes = useStyles(props);\n  var searchInputRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      addMenu = _useState2[0],\n      setAddMenu = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchText = _useState4[0],\n      setSearchText = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchResults = _useState6[0],\n      setSearchResults = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      navigation = _useState8[0],\n      setNavigation = _useState8[1];\n\n  var shortcutItems = shortcuts ? shortcuts.map(function (id) {\n    return FuseUtils.findById(navigationData, id);\n  }) : [];\n  useEffect(function () {\n    function flattenNavigation() {\n      setNavigation(FuseUtils.getFlatNavigation(navigationData));\n    }\n\n    flattenNavigation();\n  }, [props.location, navigationData]);\n\n  function addMenuClick(event) {\n    setAddMenu(event.currentTarget);\n  }\n\n  function addMenuClose() {\n    setAddMenu(null);\n  }\n\n  function search(ev) {\n    var newSearchText = ev.target.value;\n    setSearchText(newSearchText);\n\n    if (newSearchText.length !== 0 && navigation) {\n      setSearchResults(navigation.filter(function (item) {\n        return item.title.toLowerCase().includes(newSearchText.toLowerCase());\n      }));\n      return;\n    }\n\n    setSearchResults(null);\n  }\n\n  function toggleInShortcuts(id) {\n    var newShortcuts = _toConsumableArray(shortcuts);\n\n    newShortcuts = newShortcuts.includes(id) ? newShortcuts.filter(function (_id) {\n      return id !== _id;\n    }) : [].concat(_toConsumableArray(newShortcuts), [id]);\n    dispatch(UserActions.updateUserShortcuts(newShortcuts));\n  }\n\n  function ShortcutMenuItem(_ref3) {\n    var item = _ref3.item,\n        onToggle = _ref3.onToggle;\n    return /*#__PURE__*/React.createElement(Link, {\n      to: item.url,\n      className: classes.item,\n      role: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      className: \"min-w-40\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 6\n      }\n    }, item.icon ? /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 8\n      }\n    }, item.icon) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-20 font-bold uppercase text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 8\n      }\n    }, item.title[0])), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick(ev) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        onToggle(item.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      color: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, shortcuts.includes(item.id) ? 'star' : 'star_border'))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.root, props.variant, 'flex flex-1', props.variant === 'vertical' && 'flex-grow-0 flex-shrink', props.className),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(FuseAnimateGroup, {\n    enter: {\n      animation: 'transition.expandIn'\n    },\n    className: clsx('flex flex-1', props.variant === 'vertical' && 'flex-col'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 4\n    }\n  }, shortcutItems.map(function (item) {\n    return item && /*#__PURE__*/React.createElement(Link, {\n      to: item.url,\n      key: item.id,\n      className: classes.item,\n      role: \"button\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: item.title,\n      placement: props.variant === 'horizontal' ? 'bottom' : 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"w-40 h-40 p-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 10\n      }\n    }, item.icon ? /*#__PURE__*/React.createElement(Icon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 12\n      }\n    }, item.icon) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-20 font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 12\n      }\n    }, item.title[0]))));\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Click to add/remove shortcut\",\n    placement: props.variant === 'horizontal' ? 'bottom' : 'left',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    className: \"w-40 h-40 p-0\",\n    \"aria-owns\": addMenu ? 'add-menu' : null,\n    \"aria-haspopup\": \"true\",\n    onClick: addMenuClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: classes.addIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, \"star\")))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"add-menu\",\n    anchorEl: addMenu,\n    open: Boolean(addMenu),\n    onClose: addMenuClose,\n    classes: {\n      paper: 'mt-48'\n    },\n    onEntered: function onEntered() {\n      searchInputRef.current.focus();\n    },\n    onExited: function onExited() {\n      setSearchText('');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-16 pt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    inputRef: searchInputRef,\n    value: searchText,\n    onChange: search,\n    placeholder: \"Search for an app or page\",\n    className: \"\",\n    fullWidth: true,\n    inputProps: {\n      'aria-label': 'Search'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 5\n    }\n  }), searchText.length !== 0 && searchResults && searchResults.map(function (item) {\n    return /*#__PURE__*/React.createElement(ShortcutMenuItem, {\n      key: item.id,\n      item: item,\n      onToggle: function onToggle() {\n        return toggleInShortcuts(item.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 7\n      }\n    });\n  }), searchText.length !== 0 && searchResults.length === 0 && /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\",\n    className: \"p-16 pb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 6\n    }\n  }, \"No results..\"), searchText.length === 0 && shortcutItems.map(function (item) {\n    return item && /*#__PURE__*/React.createElement(ShortcutMenuItem, {\n      key: item.id,\n      item: item,\n      onToggle: function onToggle() {\n        return toggleInShortcuts(item.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    });\n  })));\n}\n\nFuseShortcuts.propTypes = {};\nFuseShortcuts.defaultProps = {\n  variant: 'horizontal'\n};\nexport default React.memo(FuseShortcuts);","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/core/FuseShortcuts/FuseShortcuts.js"],"names":["FuseAnimateGroup","FuseUtils","amber","Divider","Icon","IconButton","Input","ListItemIcon","ListItemText","Menu","MenuItem","makeStyles","Tooltip","Typography","UserActions","clsx","React","useEffect","useRef","useState","useDispatch","useSelector","Link","useStyles","root","flexDirection","item","textDecoration","color","addIcon","FuseShortcuts","props","dispatch","shortcuts","auth","user","data","navigationData","fuse","navigation","classes","searchInputRef","addMenu","setAddMenu","searchText","setSearchText","searchResults","setSearchResults","setNavigation","shortcutItems","map","id","findById","flattenNavigation","getFlatNavigation","location","addMenuClick","event","currentTarget","addMenuClose","search","ev","newSearchText","target","value","length","filter","title","toLowerCase","includes","toggleInShortcuts","newShortcuts","_id","updateUserShortcuts","ShortcutMenuItem","onToggle","url","icon","preventDefault","stopPropagation","variant","className","animation","Boolean","paper","current","focus","propTypes","defaultProps","memo"],"mappings":"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","sourcesContent":["import FuseAnimateGroup from '@fuse/core/FuseAnimateGroup';\nimport FuseUtils from '@fuse/utils';\nimport { amber } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport * as UserActions from 'app/auth/store/actions';\nimport clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\t'&.horizontal': {},\n\t\t'&.vertical': {\n\t\t\tflexDirection: 'column'\n\t\t}\n\t},\n\titem: {\n\t\ttextDecoration: 'none!important',\n\t\tcolor: 'inherit'\n\t},\n\taddIcon: {\n\t\tcolor: amber[600]\n\t}\n});\n\nfunction FuseShortcuts(props) {\n\tconst dispatch = useDispatch();\n\tconst shortcuts = useSelector(({ auth }) => auth.user.data.shortcuts);\n\tconst navigationData = useSelector(({ fuse }) => fuse.navigation);\n\n\tconst classes = useStyles(props);\n\tconst searchInputRef = useRef(null);\n\tconst [addMenu, setAddMenu] = useState(null);\n\tconst [searchText, setSearchText] = useState('');\n\tconst [searchResults, setSearchResults] = useState(null);\n\tconst [navigation, setNavigation] = useState(null);\n\tconst shortcutItems = shortcuts ? shortcuts.map(id => FuseUtils.findById(navigationData, id)) : [];\n\n\tuseEffect(() => {\n\t\tfunction flattenNavigation() {\n\t\t\tsetNavigation(FuseUtils.getFlatNavigation(navigationData));\n\t\t}\n\n\t\tflattenNavigation();\n\t}, [props.location, navigationData]);\n\n\tfunction addMenuClick(event) {\n\t\tsetAddMenu(event.currentTarget);\n\t}\n\n\tfunction addMenuClose() {\n\t\tsetAddMenu(null);\n\t}\n\n\tfunction search(ev) {\n\t\tconst newSearchText = ev.target.value;\n\n\t\tsetSearchText(newSearchText);\n\n\t\tif (newSearchText.length !== 0 && navigation) {\n\t\t\tsetSearchResults(navigation.filter(item => item.title.toLowerCase().includes(newSearchText.toLowerCase())));\n\t\t\treturn;\n\t\t}\n\t\tsetSearchResults(null);\n\t}\n\n\tfunction toggleInShortcuts(id) {\n\t\tlet newShortcuts = [...shortcuts];\n\t\tnewShortcuts = newShortcuts.includes(id) ? newShortcuts.filter(_id => id !== _id) : [...newShortcuts, id];\n\t\tdispatch(UserActions.updateUserShortcuts(newShortcuts));\n\t}\n\n\tfunction ShortcutMenuItem({ item, onToggle }) {\n\t\treturn (\n\t\t\t<Link to={item.url} className={classes.item} role=\"button\">\n\t\t\t\t<MenuItem key={item.id}>\n\t\t\t\t\t<ListItemIcon className=\"min-w-40\">\n\t\t\t\t\t\t{item.icon ? (\n\t\t\t\t\t\t\t<Icon>{item.icon}</Icon>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className=\"text-20 font-bold uppercase text-center\">{item.title[0]}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary={item.title} />\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={ev => {\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\tonToggle(item.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon color=\"action\">{shortcuts.includes(item.id) ? 'star' : 'star_border'}</Icon>\n\t\t\t\t\t</IconButton>\n\t\t\t\t</MenuItem>\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\tclasses.root,\n\t\t\t\tprops.variant,\n\t\t\t\t'flex flex-1',\n\t\t\t\tprops.variant === 'vertical' && 'flex-grow-0 flex-shrink',\n\t\t\t\tprops.className\n\t\t\t)}\n\t\t>\n\t\t\t<FuseAnimateGroup\n\t\t\t\tenter={{\n\t\t\t\t\tanimation: 'transition.expandIn'\n\t\t\t\t}}\n\t\t\t\tclassName={clsx('flex flex-1', props.variant === 'vertical' && 'flex-col')}\n\t\t\t>\n\t\t\t\t{shortcutItems.map(\n\t\t\t\t\titem =>\n\t\t\t\t\t\titem && (\n\t\t\t\t\t\t\t<Link to={item.url} key={item.id} className={classes.item} role=\"button\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\tplacement={props.variant === 'horizontal' ? 'bottom' : 'left'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton className=\"w-40 h-40 p-0\">\n\t\t\t\t\t\t\t\t\t\t{item.icon ? (\n\t\t\t\t\t\t\t\t\t\t\t<Icon>{item.icon}</Icon>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-20 font-bold uppercase\">{item.title[0]}</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)\n\t\t\t\t)}\n\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle=\"Click to add/remove shortcut\"\n\t\t\t\t\tplacement={props.variant === 'horizontal' ? 'bottom' : 'left'}\n\t\t\t\t>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tclassName=\"w-40 h-40 p-0\"\n\t\t\t\t\t\taria-owns={addMenu ? 'add-menu' : null}\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\tonClick={addMenuClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon className={classes.addIcon}>star</Icon>\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t</FuseAnimateGroup>\n\n\t\t\t<Menu\n\t\t\t\tid=\"add-menu\"\n\t\t\t\tanchorEl={addMenu}\n\t\t\t\topen={Boolean(addMenu)}\n\t\t\t\tonClose={addMenuClose}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: 'mt-48'\n\t\t\t\t}}\n\t\t\t\tonEntered={() => {\n\t\t\t\t\tsearchInputRef.current.focus();\n\t\t\t\t}}\n\t\t\t\tonExited={() => {\n\t\t\t\t\tsetSearchText('');\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"p-16 pt-8\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tinputRef={searchInputRef}\n\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\tonChange={search}\n\t\t\t\t\t\tplaceholder=\"Search for an app or page\"\n\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t'aria-label': 'Search'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<Divider />\n\n\t\t\t\t{searchText.length !== 0 &&\n\t\t\t\t\tsearchResults &&\n\t\t\t\t\tsearchResults.map(item => (\n\t\t\t\t\t\t<ShortcutMenuItem key={item.id} item={item} onToggle={() => toggleInShortcuts(item.id)} />\n\t\t\t\t\t))}\n\n\t\t\t\t{searchText.length !== 0 && searchResults.length === 0 && (\n\t\t\t\t\t<Typography color=\"textSecondary\" className=\"p-16 pb-8\">\n\t\t\t\t\t\tNo results..\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\n\t\t\t\t{searchText.length === 0 &&\n\t\t\t\t\tshortcutItems.map(\n\t\t\t\t\t\titem =>\n\t\t\t\t\t\t\titem && (\n\t\t\t\t\t\t\t\t<ShortcutMenuItem\n\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\tonToggle={() => toggleInShortcuts(item.id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nFuseShortcuts.propTypes = {};\nFuseShortcuts.defaultProps = {\n\tvariant: 'horizontal'\n};\n\nexport default React.memo(FuseShortcuts);\n"]},"metadata":{},"sourceType":"module"}