{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import MaterialTable from'material-table';import JwtService from'app/services/jwtService';import{Grid,Typography}from'@material-ui/core';import FusePageSimple from'@fuse/core/FusePageSimple';import{useHistory}from'react-router';import moment from'moment-timezone';JwtService.init();var axios=JwtService.getAxios();function PremiumKeysGeneration(){var tableRef=React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),keys=_useState2[0],setKeys=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=useHistory();useEffect(function(){getData();},[]);function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var vouchers,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.get(\"/api/admin/premium-keys\");case 4:vouchers=_context.sent;resp=vouchers.data;if(resp.status){setKeys(resp.data);}else{setKeys([]);}setLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setKeys([]);setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _getData.apply(this,arguments);}return/*#__PURE__*/React.createElement(FusePageSimple,{header:/*#__PURE__*/React.createElement(Grid,{container:true,item:true,justify:\"flex-end\",direction:\"column\",className:\"pl-12 pb-12\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\"},\"Premium Key Generation History\")),content:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MaterialTable,{data:keys,ref:tableRef,columns:[{title:'Key Name',field:'key_name'},{title:'No of Keys',field:'no_of_keys'},{title:'File name',field:'file_name',render:function render(rowData){return/*#__PURE__*/React.createElement(\"a\",{href:rowData.file_name,target:\"_blank\",rel:\"noopener noreferrer\"},\"Download\");}},{title:'Created At',field:'created_at',render:function render(rowData){var date=moment(rowData.created_at).tz('Asia/Karachi');return date.format('MMMM Do YYYY (h:mm a)');}}],isLoading:loading,actions:[{icon:'add',isFreeAction:true,onClick:function onClick(){history.push('/premium_key/create');}}],options:{pageSize:10,pageSizeOptions:[10,20,50],actionsColumnIndex:-1,showTitle:false,overflowY:'visible',headerStyle:{zIndex:0},exportButton:true}}))});}export default PremiumKeysGeneration;","map":null,"metadata":{},"sourceType":"module"}