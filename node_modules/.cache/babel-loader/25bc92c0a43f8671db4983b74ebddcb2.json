{"ast":null,"code":"import _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\customer\\\\profile\\\\tabs\\\\Redemptions.js\";\nimport MaterialTable from 'material-table';\nimport React, { useState } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport ConfirmDialog from 'app/main/common/ConfirmDialog';\nvar axios = JwtService.getAxios();\n\nfunction Redemptions(_ref) {\n  var redemptions = _ref.redemptions,\n      setLoading = _ref.setLoading,\n      reload = _ref.reload;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dialog = _useState2[0],\n      setDialog = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedRedemption = _useState4[0],\n      setSelectedRedemption = _useState4[1];\n\n  function deleteRedemption() {\n    setDialog(false);\n    setLoading(true);\n    axios.post(\"/api/admin/delete-redemption\", {\n      id: selectedRedemption\n    }).then(function (res) {\n      console.log(res.data);\n      setLoading(false);\n      reload();\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:flex max-w-2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col-12 flex-1 md:ltr:pr-32 md:rtl:pl-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmDialog, {\n    title: \"delete redemption\",\n    onConfirm: deleteRedemption,\n    openDialog: dialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Redemptions\",\n    data: redemptions,\n    columns: [{\n      title: 'Savings',\n      field: 'total_savings'\n    }, {\n      title: 'Brand',\n      field: 'vendor.name'\n    }, {\n      title: 'Locality',\n      field: 'vendor.locality'\n    }, {\n      title: 'City',\n      field: 'vendor.city.name'\n    }, {\n      title: 'Voucher',\n      field: 'voucher.name'\n    }, {\n      title: 'Referrence Code',\n      field: 'reference_code'\n    }, {\n      title: 'Time',\n      field: 'created_at'\n    }],\n    options: {\n      actionsColumnIndex: -1,\n      pageSize: 10,\n      pageSizeOptions: [10, 20, 50, 100],\n      exportButton: true\n    },\n    actions: [{\n      icon: 'delete',\n      tooltip: 'Delete Redemption',\n      onClick: function onClick(event, data) {\n        setSelectedRedemption(data.id);\n        setDialog(true);\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Redemptions;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/customer/profile/tabs/Redemptions.js"],"names":["MaterialTable","React","useState","JwtService","ConfirmDialog","axios","getAxios","Redemptions","redemptions","setLoading","reload","dialog","setDialog","selectedRedemption","setSelectedRedemption","deleteRedemption","post","id","then","res","console","log","data","title","field","actionsColumnIndex","pageSize","pageSizeOptions","exportButton","icon","tooltip","onClick","event"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,gBAA1B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,IAAMC,KAAK,GAAGF,UAAU,CAACG,QAAX,EAAd;;AAEA,SAASC,WAAT,OAA0D;AAAA,MAAnCC,WAAmC,QAAnCA,WAAmC;AAAA,MAAtBC,UAAsB,QAAtBA,UAAsB;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAAA,kBAC7BR,QAAQ,CAAC,KAAD,CADqB;AAAA;AAAA,MAClDS,MADkD;AAAA,MAC1CC,SAD0C;;AAAA,mBAELV,QAAQ,CAAC,CAAD,CAFH;AAAA;AAAA,MAElDW,kBAFkD;AAAA,MAE9BC,qBAF8B;;AAGzD,WAASC,gBAAT,GAA4B;AAC3BH,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAJ,IAAAA,KAAK,CACHW,IADF,iCACuC;AACrCC,MAAAA,EAAE,EAAEJ;AADiC,KADvC,EAIEK,IAJF,CAIO,UAAAC,GAAG,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAC,MAAAA,MAAM;AACN,KARF;AASA;;AACD,sBACC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAC,mBAArB;AAAyC,IAAA,SAAS,EAAEK,gBAApD;AAAsE,IAAA,UAAU,EAAEJ,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,eAEC,oBAAC,aAAD;AACC,IAAA,KAAK,EAAC,aADP;AAEC,IAAA,IAAI,EAAEH,WAFP;AAGC,IAAA,OAAO,EAAE,CACR;AACCe,MAAAA,KAAK,EAAE,SADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KADQ,EAKR;AACCD,MAAAA,KAAK,EAAE,OADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KALQ,EASR;AACCD,MAAAA,KAAK,EAAE,UADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KATQ,EAaR;AACCD,MAAAA,KAAK,EAAE,MADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KAbQ,EAiBR;AACCD,MAAAA,KAAK,EAAE,SADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KAjBQ,EAqBR;AACCD,MAAAA,KAAK,EAAE,iBADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KArBQ,EAyBR;AACCD,MAAAA,KAAK,EAAE,MADR;AAECC,MAAAA,KAAK,EAAE;AAFR,KAzBQ,CAHV;AAiCC,IAAA,OAAO,EAAE;AACRC,MAAAA,kBAAkB,EAAE,CAAC,CADb;AAERC,MAAAA,QAAQ,EAAE,EAFF;AAGRC,MAAAA,eAAe,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb,CAHT;AAIRC,MAAAA,YAAY,EAAE;AAJN,KAjCV;AAuCC,IAAA,OAAO,EAAE,CACR;AACCC,MAAAA,IAAI,EAAE,QADP;AAECC,MAAAA,OAAO,EAAE,mBAFV;AAGCC,MAAAA,OAAO,EAAE,iBAACC,KAAD,EAAQV,IAAR,EAAiB;AACzBR,QAAAA,qBAAqB,CAACQ,IAAI,CAACL,EAAN,CAArB;AACAL,QAAAA,SAAS,CAAC,IAAD,CAAT;AACA;AANF,KADQ,CAvCV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,CADD;AAyDA;;AAED,eAAeL,WAAf","sourcesContent":["import MaterialTable from 'material-table';\nimport React, { useState } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport ConfirmDialog from 'app/main/common/ConfirmDialog';\nconst axios = JwtService.getAxios();\n\nfunction Redemptions({ redemptions, setLoading, reload }) {\n\tconst [dialog, setDialog] = useState(false);\n\tconst [selectedRedemption, setSelectedRedemption] = useState(0);\n\tfunction deleteRedemption() {\n\t\tsetDialog(false);\n\t\tsetLoading(true);\n\t\taxios\n\t\t\t.post(`/api/admin/delete-redemption`, {\n\t\t\t\tid: selectedRedemption\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tsetLoading(false);\n\t\t\t\treload();\n\t\t\t});\n\t}\n\treturn (\n\t\t<div className=\"md:flex max-w-2xl\">\n\t\t\t<div className=\"flex flex-col-12 flex-1 md:ltr:pr-32 md:rtl:pl-32\">\n\t\t\t\t<ConfirmDialog title=\"delete redemption\" onConfirm={deleteRedemption} openDialog={dialog} />\n\t\t\t\t<MaterialTable\n\t\t\t\t\ttitle=\"Redemptions\"\n\t\t\t\t\tdata={redemptions}\n\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Savings',\n\t\t\t\t\t\t\tfield: 'total_savings'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Brand',\n\t\t\t\t\t\t\tfield: 'vendor.name'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Locality',\n\t\t\t\t\t\t\tfield: 'vendor.locality'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'City',\n\t\t\t\t\t\t\tfield: 'vendor.city.name'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Voucher',\n\t\t\t\t\t\t\tfield: 'voucher.name'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Referrence Code',\n\t\t\t\t\t\t\tfield: 'reference_code'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Time',\n\t\t\t\t\t\t\tfield: 'created_at'\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tactionsColumnIndex: -1,\n\t\t\t\t\t\tpageSize: 10,\n\t\t\t\t\t\tpageSizeOptions: [10, 20, 50, 100],\n\t\t\t\t\t\texportButton: true\n\t\t\t\t\t}}\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: 'delete',\n\t\t\t\t\t\t\ttooltip: 'Delete Redemption',\n\t\t\t\t\t\t\tonClick: (event, data) => {\n\t\t\t\t\t\t\t\tsetSelectedRedemption(data.id);\n\t\t\t\t\t\t\t\tsetDialog(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Redemptions;\n"]},"metadata":{},"sourceType":"module"}