{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\premium_key\\\\PremiumKeysGeneration.js\";\nimport React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService';\nimport { Grid, Typography } from '@material-ui/core';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { useHistory } from 'react-router';\nimport moment from 'moment-timezone';\nJwtService.init();\nvar axios = JwtService.getAxios();\n\nfunction PremiumKeysGeneration() {\n  var _this = this;\n\n  var tableRef = React.createRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      keys = _useState2[0],\n      setKeys = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    getData();\n  }, []);\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var vouchers, resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return axios.get(\"/api/admin/premium-keys\");\n\n            case 4:\n              vouchers = _context.sent;\n              resp = vouchers.data;\n\n              if (resp.status) {\n                setKeys(resp.data);\n              } else {\n                setKeys([]);\n              }\n\n              setLoading(false);\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              setKeys([]);\n              setLoading(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(FusePageSimple, {\n    header: /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      item: true,\n      justify: \"flex-end\",\n      direction: \"column\",\n      className: \"pl-12 pb-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 6\n      }\n    }, \"Premium Key Generation History\")),\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MaterialTable, {\n      data: keys,\n      ref: tableRef,\n      columns: [{\n        title: 'Key Name',\n        field: 'key_name'\n      }, {\n        title: 'No of Keys',\n        field: 'no_of_keys'\n      }, {\n        title: 'File name',\n        field: 'file_name',\n        render: function render(rowData) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            href: rowData.file_name,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 10\n            }\n          }, \"Download\");\n        }\n      }, {\n        title: 'Created At',\n        field: 'created_at',\n        render: function render(rowData) {\n          var date = moment(rowData.created_at).tz('Asia/Karachi');\n          return date.format('MMMM Do YYYY (h:mm a)');\n        }\n      }],\n      isLoading: loading,\n      actions: [{\n        icon: 'add',\n        isFreeAction: true,\n        onClick: function onClick() {\n          history.push('/premium_key/create');\n        }\n      }],\n      options: {\n        pageSize: 10,\n        pageSizeOptions: [10, 20, 50],\n        actionsColumnIndex: -1,\n        showTitle: false,\n        overflowY: 'visible',\n        headerStyle: {\n          zIndex: 0\n        },\n        exportButton: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  });\n}\n\nexport default PremiumKeysGeneration;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/premium_key/PremiumKeysGeneration.js"],"names":["React","useEffect","useState","MaterialTable","JwtService","Grid","Typography","FusePageSimple","useHistory","moment","init","axios","getAxios","PremiumKeysGeneration","tableRef","createRef","keys","setKeys","loading","setLoading","history","getData","get","vouchers","resp","data","status","title","field","render","rowData","file_name","date","created_at","tz","format","icon","isFreeAction","onClick","push","pageSize","pageSizeOptions","actionsColumnIndex","showTitle","overflowY","headerStyle","zIndex","exportButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService';\nimport { Grid, Typography } from '@material-ui/core';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { useHistory } from 'react-router';\nimport moment from 'moment-timezone';\n\nJwtService.init();\nconst axios = JwtService.getAxios();\n\nfunction PremiumKeysGeneration() {\n\tconst tableRef = React.createRef();\n\tconst [keys, setKeys] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst history = useHistory();\n\tuseEffect(() => {\n\t\tgetData();\n\t}, []);\n\n\tasync function getData() {\n\t\ttry {\n\t\t\tsetLoading(true);\n\n\t\t\tconst vouchers = await axios.get(`/api/admin/premium-keys`);\n\t\t\tconst resp = vouchers.data;\n\t\t\tif (resp.status) {\n\t\t\t\tsetKeys(resp.data);\n\t\t\t} else {\n\t\t\t\tsetKeys([]);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t} catch (ex) {\n\t\t\tsetKeys([]);\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\treturn (\n\t\t<FusePageSimple\n\t\t\theader={\n\t\t\t\t<Grid container item justify=\"flex-end\" direction=\"column\" className=\"pl-12 pb-12\">\n\t\t\t\t\t<Typography variant=\"h4\">Premium Key Generation History</Typography>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<MaterialTable\n\t\t\t\t\t\tdata={keys}\n\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Key Name',\n\t\t\t\t\t\t\t\tfield: 'key_name'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'No of Keys',\n\t\t\t\t\t\t\t\tfield: 'no_of_keys'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'File name',\n\t\t\t\t\t\t\t\tfield: 'file_name',\n\t\t\t\t\t\t\t\trender: rowData => (\n\t\t\t\t\t\t\t\t\t<a href={rowData.file_name} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Created At',\n\t\t\t\t\t\t\t\tfield: 'created_at',\n\t\t\t\t\t\t\t\trender: rowData => {\n\t\t\t\t\t\t\t\t\tconst date = moment(rowData.created_at).tz('Asia/Karachi');\n\t\t\t\t\t\t\t\t\treturn date.format('MMMM Do YYYY (h:mm a)');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tisLoading={loading}\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'add',\n\t\t\t\t\t\t\t\tisFreeAction: true,\n\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\thistory.push('/premium_key/create');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\tpageSize: 10,\n\t\t\t\t\t\t\tpageSizeOptions: [10, 20, 50],\n\t\t\t\t\t\t\tactionsColumnIndex: -1,\n\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\toverflowY: 'visible',\n\t\t\t\t\t\t\theaderStyle: {\n\t\t\t\t\t\t\t\tzIndex: 0\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texportButton: true\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default PremiumKeysGeneration;\n"]},"metadata":{},"sourceType":"module"}