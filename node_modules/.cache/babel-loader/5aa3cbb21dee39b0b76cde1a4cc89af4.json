{"ast":null,"code":"import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import FuseLayoutConfigs from'@fuse/layouts/FuseLayoutConfigs';import _ from'@lodash';import FormControl from'@material-ui/core/FormControl';import FormControlLabel from'@material-ui/core/FormControlLabel';import FormLabel from'@material-ui/core/FormLabel';import MenuItem from'@material-ui/core/MenuItem';import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import Select from'@material-ui/core/Select';import{makeStyles}from'@material-ui/core/styles';import Switch from'@material-ui/core/Switch';import Typography from'@material-ui/core/Typography';import*as AuthActions from'app/auth/store/actions';import*as Actions from'app/store/actions';import clsx from'clsx';import React from'react';import{useDispatch,useSelector}from'react-redux';var useStyles=makeStyles(function(theme){return{root:{},formControl:{margin:'6px 0',width:'100%','&:last-child':{marginBottom:0}},group:{},formGroupTitle:{position:'absolute',top:-10,left:8,fontWeight:600,padding:'0 4px',backgroundColor:theme.palette.background.paper},formGroup:{position:'relative',border:\"1px solid \".concat(theme.palette.divider),borderRadius:2,padding:'12px 12px 0 12px',margin:'24px 0 16px 0','&:first-of-type':{marginTop:16}}};});function FuseSettings(props){var dispatch=useDispatch();var user=useSelector(function(_ref){var auth=_ref.auth;return auth.user;});var themes=useSelector(function(_ref2){var fuse=_ref2.fuse;return fuse.settings.themes;});var settings=useSelector(function(_ref3){var fuse=_ref3.fuse;return fuse.settings.current;});var classes=useStyles(props);function handleChange(event){var newSettings=_.set(_.merge({},settings),event.target.name,event.target.type==='checkbox'?event.target.checked:event.target.value);/**\n\t\t * If layout style changes,\n\t\t * Reset Layout Configuration\n\t\t */if(event.target.name==='layout.style'&&event.target.value!==settings.layout.style){newSettings.layout.config={};}if(user.role==='guest'){dispatch(Actions.setDefaultSettings(newSettings));}else{dispatch(AuthActions.updateUserSettings(newSettings));}}var ThemeSelect=function ThemeSelect(_ref4){var value=_ref4.value,name=_ref4.name,handleThemeChange=_ref4.handleThemeChange;return/*#__PURE__*/React.createElement(Select,{className:\"w-full\",value:value,onChange:handleThemeChange,name:name},Object.entries(themes).map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],val=_ref6[1];return/*#__PURE__*/React.createElement(MenuItem,{key:key,value:key,className:\"m-8 mt-0 rounded-lg\",style:{backgroundColor:val.palette.background.default,color:val.palette.text.primary,border:\"1px solid \".concat(val.palette.divider)}},_.startCase(key),/*#__PURE__*/React.createElement(\"div\",{className:\"flex w-full h-8 block absolute bottom-0 left-0 right-0\",style:{borderTop:\"1px solid \".concat(val.palette.divider)}},/*#__PURE__*/React.createElement(\"div\",{className:\"w-1/4 h-8\",style:{backgroundColor:val.palette.primary.main}}),/*#__PURE__*/React.createElement(\"div\",{className:\"w-1/4 h-8\",style:{backgroundColor:val.palette.secondary.main}}),/*#__PURE__*/React.createElement(\"div\",{className:\"w-1/4 h-8\",style:{backgroundColor:val.palette.error.main}}),/*#__PURE__*/React.createElement(\"div\",{className:\"w-1/4 h-8\",style:{backgroundColor:val.palette.background.paper}})));}));};var LayoutSelect=function LayoutSelect(){return/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Style\"),/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":\"Layout Style\",name:\"layout.style\",className:classes.group,value:settings.layout.style,onChange:handleChange},Object.entries(FuseLayoutConfigs).map(function(_ref7){var _ref8=_slicedToArray(_ref7,2),key=_ref8[0],layout=_ref8[1];return/*#__PURE__*/React.createElement(FormControlLabel,{key:key,value:key,control:/*#__PURE__*/React.createElement(Radio,null),label:layout.title});})));};var DirectionSelect=function DirectionSelect(){return/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Direction\"),/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":\"Layout Style\",name:\"direction\",className:classes.group,value:settings.direction,onChange:handleChange,row:true},/*#__PURE__*/React.createElement(FormControlLabel,{key:\"rtl\",value:\"rtl\",control:/*#__PURE__*/React.createElement(Radio,null),label:\"RTL\"}),/*#__PURE__*/React.createElement(FormControlLabel,{key:\"ltr\",value:\"ltr\",control:/*#__PURE__*/React.createElement(Radio,null),label:\"LTR\"})));};var getForm=function getForm(form,prefix){return Object.entries(form).map(function(_ref9){var _ref10=_slicedToArray(_ref9,2),key=_ref10[0],formControl=_ref10[1];var target=prefix?\"\".concat(prefix,\".\").concat(key):key;switch(formControl.type){case'radio':{return/*#__PURE__*/React.createElement(FormControl,{key:target,component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},formControl.title),/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":formControl.title,name:\"layout.config.\".concat(target),className:classes.group,value:_.get(settings.layout.config,target),onChange:handleChange,row:formControl.options.length<4},formControl.options.map(function(opt){return/*#__PURE__*/React.createElement(FormControlLabel,{key:opt.value,value:opt.value,control:/*#__PURE__*/React.createElement(Radio,null),label:opt.name});})));}case'switch':{return/*#__PURE__*/React.createElement(FormControl,{key:target,component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormControlLabel,{classes:{// root: \"flex-row-reverse justify-end pl-16\"\n},control:/*#__PURE__*/React.createElement(Switch,{name:\"layout.config.\".concat(target),checked:_.get(settings.layout.config,target),onChange:handleChange,\"aria-label\":formControl.title}),label:/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},formControl.title)}));}case'group':{return/*#__PURE__*/React.createElement(\"div\",{key:target,className:classes.formGroup},/*#__PURE__*/React.createElement(Typography,{className:classes.formGroupTitle,color:\"textSecondary\"},formControl.title),getForm(formControl.children,key));}default:{return'';}}});};function LayoutConfig(){var form=FuseLayoutConfigs[settings.layout.style].form;return getForm(form);}return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.formGroup},/*#__PURE__*/React.createElement(Typography,{className:classes.formGroupTitle,color:\"textSecondary\"},\"Layout\"),/*#__PURE__*/React.createElement(LayoutSelect,null),/*#__PURE__*/React.createElement(LayoutConfig,null),/*#__PURE__*/React.createElement(Typography,{className:\"my-16 text-12 italic\",color:\"textSecondary\"},\"*Not all option combinations are available\")),/*#__PURE__*/React.createElement(\"div\",{className:clsx(classes.formGroup,'pb-16')},/*#__PURE__*/React.createElement(Typography,{className:classes.formGroupTitle,color:\"textSecondary\"},\"Theme\"),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Main\"),/*#__PURE__*/React.createElement(ThemeSelect,{value:settings.theme.main,name:\"theme.main\",handleThemeChange:handleChange})),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Navbar\"),/*#__PURE__*/React.createElement(ThemeSelect,{value:settings.theme.navbar,name:\"theme.navbar\",handleThemeChange:handleChange})),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Toolbar\"),/*#__PURE__*/React.createElement(ThemeSelect,{value:settings.theme.toolbar,name:\"theme.toolbar\",handleThemeChange:handleChange})),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Footer\"),/*#__PURE__*/React.createElement(ThemeSelect,{value:settings.theme.footer,name:\"theme.footer\",handleThemeChange:handleChange}))),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Custom Scrollbars\"),/*#__PURE__*/React.createElement(Switch,{checked:settings.customScrollbars,onChange:handleChange,\"aria-label\":\"Custom Scrollbars\",name:\"customScrollbars\"})),/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\",className:classes.formControl},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\",className:\"text-14\"},\"Animations\"),/*#__PURE__*/React.createElement(Switch,{checked:settings.animations,onChange:handleChange,\"aria-label\":\"Animations\",name:\"animations\"})),/*#__PURE__*/React.createElement(DirectionSelect,null));}export default React.memo(FuseSettings);","map":null,"metadata":{},"sourceType":"module"}