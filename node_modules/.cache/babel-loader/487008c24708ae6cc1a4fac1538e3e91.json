{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\global-notification\\\\GlobalNotifications.js\";\nimport React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService';\nimport { Grid, Typography } from '@material-ui/core';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { useHistory } from 'react-router';\nJwtService.init();\nvar axios = JwtService.getAxios();\n\nfunction GlobalNotifications() {\n  var _this = this;\n\n  var tableRef = React.createRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      keys = _useState2[0],\n      setKeys = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    getData();\n  }, []);\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var vouchers, resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return axios.get(\"/api/admin/global-notifications\");\n\n            case 4:\n              vouchers = _context.sent;\n              resp = vouchers.data;\n\n              if (resp.status) {\n                setKeys(resp.data);\n              } else {\n                setKeys([]);\n              }\n\n              setLoading(false);\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              setKeys([]);\n              setLoading(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(FusePageSimple, {\n    header: /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      item: true,\n      justify: \"flex-end\",\n      direction: \"column\",\n      className: \"pl-12 pb-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }\n    }, \"Global Notifications\")),\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MaterialTable, {\n      data: keys,\n      ref: tableRef,\n      columns: [{\n        title: 'Title',\n        field: 'title'\n      }, {\n        title: 'Message',\n        field: 'message'\n      }, {\n        title: 'City',\n        field: 'city_name'\n      }, {\n        title: 'Membersip',\n        field: 'membership_name'\n      }, {\n        title: 'User',\n        field: 'user.name'\n      }, {\n        title: 'Image',\n        field: 'image',\n        render: function render(rowData) {\n          if (!rowData.image) return /*#__PURE__*/React.createElement(React.Fragment, null);\n          return /*#__PURE__*/React.createElement(\"a\", {\n            href: rowData.image,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: rowData.image,\n            alt: rowData.title,\n            style: {\n              width: 150\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 12\n            }\n          }));\n        }\n      }, {\n        title: 'Created At',\n        field: 'created_at'\n      }],\n      isLoading: loading,\n      actions: [{\n        icon: 'add',\n        isFreeAction: true,\n        onClick: function onClick() {\n          history.push('/global-notification');\n        }\n      }],\n      options: {\n        pageSize: 10,\n        pageSizeOptions: [10, 20, 50],\n        actionsColumnIndex: -1,\n        showTitle: false,\n        overflowY: 'visible',\n        headerStyle: {\n          zIndex: 0\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  });\n}\n\nexport default GlobalNotifications;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/global-notification/GlobalNotifications.js"],"names":["React","useEffect","useState","MaterialTable","JwtService","Grid","Typography","FusePageSimple","useHistory","init","axios","getAxios","GlobalNotifications","tableRef","createRef","keys","setKeys","loading","setLoading","history","getData","get","vouchers","resp","data","status","title","field","render","rowData","image","width","icon","isFreeAction","onClick","push","pageSize","pageSizeOptions","actionsColumnIndex","showTitle","overflowY","headerStyle","zIndex"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService';\nimport { Grid, Typography } from '@material-ui/core';\nimport FusePageSimple from '@fuse/core/FusePageSimple';\nimport { useHistory } from 'react-router';\n\nJwtService.init();\nconst axios = JwtService.getAxios();\n\nfunction GlobalNotifications() {\n\tconst tableRef = React.createRef();\n\tconst [keys, setKeys] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst history = useHistory();\n\tuseEffect(() => {\n\t\tgetData();\n\t}, []);\n\n\tasync function getData() {\n\t\ttry {\n\t\t\tsetLoading(true);\n\n\t\t\tconst vouchers = await axios.get(`/api/admin/global-notifications`);\n\t\t\tconst resp = vouchers.data;\n\t\t\tif (resp.status) {\n\t\t\t\tsetKeys(resp.data);\n\t\t\t} else {\n\t\t\t\tsetKeys([]);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t} catch (ex) {\n\t\t\tsetKeys([]);\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\treturn (\n\t\t<FusePageSimple\n\t\t\theader={\n\t\t\t\t<Grid container item justify=\"flex-end\" direction=\"column\" className=\"pl-12 pb-12\">\n\t\t\t\t\t<Typography variant=\"h4\">Global Notifications</Typography>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<MaterialTable\n\t\t\t\t\t\tdata={keys}\n\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t\t\t\t\t\t\tfield: 'title'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Message',\n\t\t\t\t\t\t\t\tfield: 'message'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'City',\n\t\t\t\t\t\t\t\tfield: 'city_name'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Membersip',\n\t\t\t\t\t\t\t\tfield: 'membership_name'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'User',\n\t\t\t\t\t\t\t\tfield: 'user.name'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Image',\n\t\t\t\t\t\t\t\tfield: 'image',\n\t\t\t\t\t\t\t\trender: rowData => {\n\t\t\t\t\t\t\t\t\tif (!rowData.image) return <></>;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<a href={rowData.image} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t\t\t<img src={rowData.image} alt={rowData.title} style={{ width: 150 }} />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: 'Created At',\n\t\t\t\t\t\t\t\tfield: 'created_at'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tisLoading={loading}\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'add',\n\t\t\t\t\t\t\t\tisFreeAction: true,\n\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\thistory.push('/global-notification');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\tpageSize: 10,\n\t\t\t\t\t\t\tpageSizeOptions: [10, 20, 50],\n\t\t\t\t\t\t\tactionsColumnIndex: -1,\n\t\t\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t\t\toverflowY: 'visible',\n\t\t\t\t\t\t\theaderStyle: {\n\t\t\t\t\t\t\t\tzIndex: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default GlobalNotifications;\n"]},"metadata":{},"sourceType":"module"}