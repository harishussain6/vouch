{"ast":null,"code":"import _defineProperty from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import NavLinkAdapter from'@fuse/core/NavLinkAdapter';import{useDebounce}from'@fuse/hooks';import FuseUtils from'@fuse/utils';import Grow from'@material-ui/core/Grow';import Icon from'@material-ui/core/Icon';import IconButton from'@material-ui/core/IconButton';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Paper from'@material-ui/core/Paper';import{makeStyles,useTheme}from'@material-ui/core/styles';import clsx from'clsx';import React,{useState,useMemo}from'react';import*as ReactDOM from'react-dom';import{useTranslation}from'react-i18next';import{Manager,Popper,Reference}from'react-popper';import{useSelector}from'react-redux';import{withRouter}from'react-router-dom';import FuseNavItem from'../FuseNavItem';var useStyles=makeStyles(function(theme){return{root:{color:theme.palette.text.primary,'&.active, &.active:hover, &.active:focus':{backgroundColor:\"\".concat(theme.palette.secondary.main,\"!important\"),color:\"\".concat(theme.palette.secondary.contrastText,\"!important\"),'& .list-item-text-primary':{color:'inherit'},'& .list-item-icon':{color:'inherit'}},'& .list-item-text':{padding:'0 0 0 16px'},'&.level-0':{height:44,borderRadius:4,'&:hover':{background:'transparent'}}},children:{},popper:{zIndex:999},popperClose:{pointerEvents:'none'}};});function FuseNavHorizontalGroup(props){var userRole=useSelector(function(_ref){var auth=_ref.auth;return auth.user.role;});var classes=useStyles(props);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];var item=props.item,nestedLevel=props.nestedLevel,dense=props.dense;var theme=useTheme();var _useTranslation=useTranslation('navigation'),t=_useTranslation.t;var handleToggle=useDebounce(function(open){setOpened(open);},150);var hasPermission=useMemo(function(){return FuseUtils.hasPermission(item.auth,userRole);},[item.auth,userRole]);if(!hasPermission){return null;}function isUrlInChildren(parent,url){if(!parent.children){return false;}for(var i=0;i<parent.children.length;i+=1){if(parent.children[i].children){if(isUrlInChildren(parent.children[i],url)){return true;}}if(parent.children[i].url===url||url.includes(parent.children[i].url)){return true;}}return false;}return/*#__PURE__*/React.createElement(Manager,null,/*#__PURE__*/React.createElement(Reference,null,function(_ref2){var ref=_ref2.ref;return/*#__PURE__*/React.createElement(\"div\",{ref:ref},/*#__PURE__*/React.createElement(ListItem,{button:true,className:clsx('list-item ',classes.root,'relative',\"level-\".concat(nestedLevel),isUrlInChildren(item,props.location.pathname)&&'active'),onMouseEnter:function onMouseEnter(){return handleToggle(true);},onMouseLeave:function onMouseLeave(){return handleToggle(false);},\"aria-owns\":opened?'menu-list-grow':null,\"aria-haspopup\":\"true\",component:item.url?NavLinkAdapter:'li',to:item.url,role:\"button\"},item.icon&&/*#__PURE__*/React.createElement(Icon,{color:\"action\",className:\"list-item-icon text-16 flex-shrink-0\"},item.icon),/*#__PURE__*/React.createElement(ListItemText,{className:\"list-item-text\",primary:item.translate?t(item.translate):item.title,classes:{primary:'text-14'}}),nestedLevel>0&&/*#__PURE__*/React.createElement(IconButton,{disableRipple:true,className:\"w-16 h-16 ltr:ml-4 rtl:mr-4 p-0\",color:\"inherit\"},/*#__PURE__*/React.createElement(Icon,{className:\"text-16 arrow-icon\"},theme.direction==='ltr'?'keyboard_arrow_right':'keyboard_arrow_left'))));}),ReactDOM.createPortal(/*#__PURE__*/React.createElement(Popper,{placement:nestedLevel===0?theme.direction==='ltr'?'bottom-start':'bottom-end':theme.direction==='ltr'?'right':'left',eventsEnabled:opened,positionFixed:true},function(_ref3){var ref=_ref3.ref,style=_ref3.style,placement=_ref3.placement,arrowProps=_ref3.arrowProps;return opened&&/*#__PURE__*/React.createElement(\"div\",{ref:ref,style:_objectSpread(_objectSpread({},style),{},{zIndex:999+nestedLevel}),\"data-placement\":placement,className:clsx(classes.popper,_defineProperty({},classes.popperClose,!opened))},/*#__PURE__*/React.createElement(Grow,{in:opened,id:\"menu-list-grow\",style:{transformOrigin:'0 0 0'}},/*#__PURE__*/React.createElement(Paper,{onMouseEnter:function onMouseEnter(){return handleToggle(true);},onMouseLeave:function onMouseLeave(){return handleToggle(false);}},item.children&&/*#__PURE__*/React.createElement(\"ul\",{className:clsx(classes.children,'popper-navigation-list',dense&&'dense','px-0')},item.children.map(function(_item){return/*#__PURE__*/React.createElement(FuseNavItem,{key:_item.id,type:\"horizontal-\".concat(_item.type),item:_item,nestedLevel:nestedLevel,dense:dense});})))));}),document.querySelector('#root')));}FuseNavHorizontalGroup.defaultProps={};var NavHorizontalGroup=withRouter(React.memo(FuseNavHorizontalGroup));export default NavHorizontalGroup;","map":null,"metadata":{},"sourceType":"module"}