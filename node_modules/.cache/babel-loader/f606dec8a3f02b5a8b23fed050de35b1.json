{"ast":null,"code":"import _slicedToArray from\"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import JwtService from'app/services/jwtService';import FuseChipSelect from'@fuse/core/FuseChipSelect';import _ from'@lodash';var axios=JwtService.getAxios();function VendorSearch(_ref){var setValue=_ref.setValue,error=_ref.error,selectedVendor=_ref.selectedVendor,_ref$label=_ref.label,label=_ref$label===void 0?'Vendor':_ref$label,_ref$setVendor=_ref.setVendor,setVendor=_ref$setVendor===void 0?null:_ref$setVendor,_ref$selectedId=_ref.selectedId,selectedId=_ref$selectedId===void 0?0:_ref$selectedId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),vendor=_useState2[0],setVendorId=_useState2[1];useEffect(function(){if(vendor){setValue(vendor.id);if(setVendor)setVendor(vendor);}// eslint-disable-next-line\n},[vendor]);useEffect(function(){if(typeof selectedId==='number'&&selectedId>0){axios.get('/api/admin/get-parent-list',{params:{query:selectedId}}).then(function(res){var data=res.data;var compiledData=data.data.map(function(vendor){return{id:vendor.id,label:\"\".concat(vendor.name,\", \").concat(vendor.locality,\", \").concat(vendor.city.name.toUpperCase(),\" \")};});if(compiledData&&Object.keys(compiledData).length>0){var vendorToSet=_.values(compiledData)[0];if(setVendor)setVendor(vendorToSet);setValue(vendorToSet.id);setVendorId({id:vendorToSet.id,label:vendorToSet.label});}});}},[]);function _onChange(value,name){if(name==='vendor'){setVendorId(value);}}function promiseOptions(inputValue){if(inputValue.length<4)return Promise.resolve([]);return axios.get('/api/admin/get-parent-list',{params:{query:inputValue}}).then(function(res){var data=res.data;return data.data.map(function(vendor){return{id:vendor.id,label:\"\".concat(vendor.name,\", \").concat(vendor.locality,\", \").concat(vendor.city.name.toUpperCase(),\" \")};});});}return/*#__PURE__*/React.createElement(FuseChipSelect,{className:\"mt-8 mb-8\",value:{value:vendor.id,label:vendor.label},onChange:function onChange(value){return _onChange(value,'vendor');},textFieldProps:{label:label,InputLabelProps:{shrink:true},variant:'outlined'},required:true,variant:\"async\",defaultOptions:true,loadOptions:promiseOptions,error:error,helperText:error// defaultInputValue=\"defaultInputValue\"\n});}export default VendorSearch;","map":null,"metadata":{},"sourceType":"module"}