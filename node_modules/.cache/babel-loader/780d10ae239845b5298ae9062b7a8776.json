{"ast":null,"code":"import _defineProperty from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\@fuse\\\\core\\\\FuseNavigation\\\\horizontal\\\\FuseNavHorizontalGroup.js\";\nimport NavLinkAdapter from '@fuse/core/NavLinkAdapter';\nimport { useDebounce } from '@fuse/hooks';\nimport FuseUtils from '@fuse/utils';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport FuseNavItem from '../FuseNavItem';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.text.primary,\n      '&.active, &.active:hover, &.active:focus': {\n        backgroundColor: \"\".concat(theme.palette.secondary.main, \"!important\"),\n        color: \"\".concat(theme.palette.secondary.contrastText, \"!important\"),\n        '& .list-item-text-primary': {\n          color: 'inherit'\n        },\n        '& .list-item-icon': {\n          color: 'inherit'\n        }\n      },\n      '& .list-item-text': {\n        padding: '0 0 0 16px'\n      },\n      '&.level-0': {\n        height: 44,\n        borderRadius: 4,\n        '&:hover': {\n          background: 'transparent'\n        }\n      }\n    },\n    children: {},\n    popper: {\n      zIndex: 999\n    },\n    popperClose: {\n      pointerEvents: 'none'\n    }\n  };\n});\n\nfunction FuseNavHorizontalGroup(props) {\n  var _this = this;\n\n  var userRole = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.role;\n  });\n  var classes = useStyles(props);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var item = props.item,\n      nestedLevel = props.nestedLevel,\n      dense = props.dense;\n  var theme = useTheme();\n\n  var _useTranslation = useTranslation('navigation'),\n      t = _useTranslation.t;\n\n  var handleToggle = useDebounce(function (open) {\n    setOpened(open);\n  }, 150);\n  var hasPermission = useMemo(function () {\n    return FuseUtils.hasPermission(item.auth, userRole);\n  }, [item.auth, userRole]);\n\n  if (!hasPermission) {\n    return null;\n  }\n\n  function isUrlInChildren(parent, url) {\n    if (!parent.children) {\n      return false;\n    }\n\n    for (var i = 0; i < parent.children.length; i += 1) {\n      if (parent.children[i].children) {\n        if (isUrlInChildren(parent.children[i], url)) {\n          return true;\n        }\n      }\n\n      if (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return /*#__PURE__*/React.createElement(Manager, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Reference, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }\n  }, function (_ref2) {\n    var ref = _ref2.ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      className: clsx('list-item ', classes.root, 'relative', \"level-\".concat(nestedLevel), isUrlInChildren(item, props.location.pathname) && 'active'),\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      \"aria-owns\": opened ? 'menu-list-grow' : null,\n      \"aria-haspopup\": \"true\",\n      component: item.url ? NavLinkAdapter : 'li',\n      to: item.url,\n      role: \"button\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, item.icon && /*#__PURE__*/React.createElement(Icon, {\n      color: \"action\",\n      className: \"list-item-icon text-16 flex-shrink-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, item.icon), /*#__PURE__*/React.createElement(ListItemText, {\n      className: \"list-item-text\",\n      primary: item.translate ? t(item.translate) : item.title,\n      classes: {\n        primary: 'text-14'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }), nestedLevel > 0 && /*#__PURE__*/React.createElement(IconButton, {\n      disableRipple: true,\n      className: \"w-16 h-16 ltr:ml-4 rtl:mr-4 p-0\",\n      color: \"inherit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"text-16 arrow-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 10\n      }\n    }, theme.direction === 'ltr' ? 'keyboard_arrow_right' : 'keyboard_arrow_left'))));\n  }), ReactDOM.createPortal( /*#__PURE__*/React.createElement(Popper, {\n    placement: nestedLevel === 0 ? theme.direction === 'ltr' ? 'bottom-start' : 'bottom-end' : theme.direction === 'ltr' ? 'right' : 'left',\n    eventsEnabled: opened,\n    positionFixed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, function (_ref3) {\n    var ref = _ref3.ref,\n        style = _ref3.style,\n        placement = _ref3.placement,\n        arrowProps = _ref3.arrowProps;\n    return opened && /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref,\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        zIndex: 999 + nestedLevel\n      }),\n      \"data-placement\": placement,\n      className: clsx(classes.popper, _defineProperty({}, classes.popperClose, !opened)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Grow, {\n      in: opened,\n      id: \"menu-list-grow\",\n      style: {\n        transformOrigin: '0 0 0'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 10\n      }\n    }, item.children && /*#__PURE__*/React.createElement(\"ul\", {\n      className: clsx(classes.children, 'popper-navigation-list', dense && 'dense', 'px-0'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 12\n      }\n    }, item.children.map(function (_item) {\n      return /*#__PURE__*/React.createElement(FuseNavItem, {\n        key: _item.id,\n        type: \"horizontal-\".concat(_item.type),\n        item: _item,\n        nestedLevel: nestedLevel,\n        dense: dense,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 14\n        }\n      });\n    })))));\n  }), document.querySelector('#root')));\n}\n\nFuseNavHorizontalGroup.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    children: PropTypes.array\n  })\n};\nFuseNavHorizontalGroup.defaultProps = {};\nvar NavHorizontalGroup = withRouter(React.memo(FuseNavHorizontalGroup));\nexport default NavHorizontalGroup;","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/core/FuseNavigation/horizontal/FuseNavHorizontalGroup.js"],"names":["NavLinkAdapter","useDebounce","FuseUtils","Grow","Icon","IconButton","ListItem","ListItemText","Paper","makeStyles","useTheme","clsx","PropTypes","React","useState","useMemo","ReactDOM","useTranslation","Manager","Popper","Reference","useSelector","withRouter","FuseNavItem","useStyles","theme","root","color","palette","text","primary","backgroundColor","secondary","main","contrastText","padding","height","borderRadius","background","children","popper","zIndex","popperClose","pointerEvents","FuseNavHorizontalGroup","props","userRole","auth","user","role","classes","opened","setOpened","item","nestedLevel","dense","t","handleToggle","open","hasPermission","isUrlInChildren","parent","url","i","length","includes","ref","location","pathname","icon","translate","title","direction","createPortal","style","placement","arrowProps","transformOrigin","map","_item","id","type","document","querySelector","propTypes","shape","string","isRequired","array","defaultProps","NavHorizontalGroup","memo"],"mappings":"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","sourcesContent":["import NavLinkAdapter from '@fuse/core/NavLinkAdapter';\nimport { useDebounce } from '@fuse/hooks';\nimport FuseUtils from '@fuse/utils';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport FuseNavItem from '../FuseNavItem';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tcolor: theme.palette.text.primary,\n\t\t'&.active, &.active:hover, &.active:focus': {\n\t\t\tbackgroundColor: `${theme.palette.secondary.main}!important`,\n\t\t\tcolor: `${theme.palette.secondary.contrastText}!important`,\n\t\t\t'& .list-item-text-primary': {\n\t\t\t\tcolor: 'inherit'\n\t\t\t},\n\t\t\t'& .list-item-icon': {\n\t\t\t\tcolor: 'inherit'\n\t\t\t}\n\t\t},\n\t\t'& .list-item-text': {\n\t\t\tpadding: '0 0 0 16px'\n\t\t},\n\t\t'&.level-0': {\n\t\t\theight: 44,\n\t\t\tborderRadius: 4,\n\t\t\t'&:hover': {\n\t\t\t\tbackground: 'transparent'\n\t\t\t}\n\t\t}\n\t},\n\tchildren: {},\n\tpopper: {\n\t\tzIndex: 999\n\t},\n\tpopperClose: {\n\t\tpointerEvents: 'none'\n\t}\n}));\n\nfunction FuseNavHorizontalGroup(props) {\n\tconst userRole = useSelector(({ auth }) => auth.user.role);\n\n\tconst classes = useStyles(props);\n\tconst [opened, setOpened] = useState(false);\n\tconst { item, nestedLevel, dense } = props;\n\tconst theme = useTheme();\n\tconst { t } = useTranslation('navigation');\n\n\tconst handleToggle = useDebounce(open => {\n\t\tsetOpened(open);\n\t}, 150);\n\n\tconst hasPermission = useMemo(() => FuseUtils.hasPermission(item.auth, userRole), [item.auth, userRole]);\n\n\tif (!hasPermission) {\n\t\treturn null;\n\t}\n\n\tfunction isUrlInChildren(parent, url) {\n\t\tif (!parent.children) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let i = 0; i < parent.children.length; i += 1) {\n\t\t\tif (parent.children[i].children) {\n\t\t\t\tif (isUrlInChildren(parent.children[i], url)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<Manager>\n\t\t\t<Reference>\n\t\t\t\t{({ ref }) => (\n\t\t\t\t\t<div ref={ref}>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'list-item ',\n\t\t\t\t\t\t\t\tclasses.root,\n\t\t\t\t\t\t\t\t'relative',\n\t\t\t\t\t\t\t\t`level-${nestedLevel}`,\n\t\t\t\t\t\t\t\tisUrlInChildren(item, props.location.pathname) && 'active'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonMouseEnter={() => handleToggle(true)}\n\t\t\t\t\t\t\tonMouseLeave={() => handleToggle(false)}\n\t\t\t\t\t\t\taria-owns={opened ? 'menu-list-grow' : null}\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tcomponent={item.url ? NavLinkAdapter : 'li'}\n\t\t\t\t\t\t\tto={item.url}\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{item.icon && (\n\t\t\t\t\t\t\t\t<Icon color=\"action\" className=\"list-item-icon text-16 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t{item.icon}\n\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName=\"list-item-text\"\n\t\t\t\t\t\t\t\tprimary={item.translate ? t(item.translate) : item.title}\n\t\t\t\t\t\t\t\tclasses={{ primary: 'text-14' }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{nestedLevel > 0 && (\n\t\t\t\t\t\t\t\t<IconButton disableRipple className=\"w-16 h-16 ltr:ml-4 rtl:mr-4 p-0\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<Icon className=\"text-16 arrow-icon\">\n\t\t\t\t\t\t\t\t\t\t{theme.direction === 'ltr' ? 'keyboard_arrow_right' : 'keyboard_arrow_left'}\n\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Reference>\n\t\t\t{ReactDOM.createPortal(\n\t\t\t\t<Popper\n\t\t\t\t\tplacement={\n\t\t\t\t\t\tnestedLevel === 0\n\t\t\t\t\t\t\t? theme.direction === 'ltr'\n\t\t\t\t\t\t\t\t? 'bottom-start'\n\t\t\t\t\t\t\t\t: 'bottom-end'\n\t\t\t\t\t\t\t: theme.direction === 'ltr'\n\t\t\t\t\t\t\t? 'right'\n\t\t\t\t\t\t\t: 'left'\n\t\t\t\t\t}\n\t\t\t\t\teventsEnabled={opened}\n\t\t\t\t\tpositionFixed\n\t\t\t\t>\n\t\t\t\t\t{({ ref, style, placement, arrowProps }) =>\n\t\t\t\t\t\topened && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t\t\t\tzIndex: 999 + nestedLevel\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdata-placement={placement}\n\t\t\t\t\t\t\t\tclassName={clsx(classes.popper, { [classes.popperClose]: !opened })}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grow in={opened} id=\"menu-list-grow\" style={{ transformOrigin: '0 0 0' }}>\n\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => handleToggle(true)}\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => handleToggle(false)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.children && (\n\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.children,\n\t\t\t\t\t\t\t\t\t\t\t\t\t'popper-navigation-list',\n\t\t\t\t\t\t\t\t\t\t\t\t\tdense && 'dense',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'px-0'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.children.map(_item => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FuseNavItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={_item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={`horizontal-${_item.type}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem={_item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnestedLevel={nestedLevel}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense={dense}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Popper>,\n\t\t\t\tdocument.querySelector('#root')\n\t\t\t)}\n\t\t</Manager>\n\t);\n}\n\nFuseNavHorizontalGroup.propTypes = {\n\titem: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\ttitle: PropTypes.string,\n\t\tchildren: PropTypes.array\n\t})\n};\n\nFuseNavHorizontalGroup.defaultProps = {};\n\nconst NavHorizontalGroup = withRouter(React.memo(FuseNavHorizontalGroup));\n\nexport default NavHorizontalGroup;\n"]},"metadata":{},"sourceType":"module"}