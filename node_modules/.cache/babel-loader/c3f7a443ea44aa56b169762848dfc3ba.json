{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\category\\\\Categories.js\";\nimport React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService'; // import Add from './Add';\n\nimport Edit from './Edit';\nimport { Typography } from '@material-ui/core';\n\nfunction Categories() {\n  var _this = this;\n\n  var tableRef = React.createRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      sliders = _useState2[0],\n      setSliders = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    if (!loading) getData(); // eslint-disable-next-line\n  }, []);\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var axios, vouchers, resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              JwtService.init();\n              axios = JwtService.getAxios();\n              _context.next = 5;\n              return axios.get('/api/admin/category');\n\n            case 5:\n              vouchers = _context.sent;\n              resp = vouchers.data;\n\n              if (resp.status) {\n                setSliders(resp.data.category);\n              } else {\n                setSliders([]);\n              }\n\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  function reload() {\n    return getData();\n  }\n\n  function Action(_ref) {\n    var action = _ref.action,\n        data = _ref.data;\n\n    switch (action.icon) {\n      case 'edit':\n        return /*#__PURE__*/React.createElement(Edit, {\n          reload: reload,\n          slide_id: data.id ? data.id : null,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 12\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Category\",\n    data: sliders,\n    ref: tableRef,\n    columns: [{\n      title: 'Name',\n      field: 'name'\n    }, {\n      title: 'Category Color',\n      field: 'category_color',\n      render: function render(rowData) {\n        return /*#__PURE__*/React.createElement(Typography, {\n          style: {\n            color: rowData.category_color\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }\n        }, rowData.category_color);\n      }\n    }, {\n      title: 'Retail',\n      field: 'retail',\n      render: function render(rowData) {\n        return /*#__PURE__*/React.createElement(\"img\", {\n          src: rowData.retail,\n          alt: rowData.name,\n          style: {\n            width: 50\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }\n        });\n      }\n    }, {\n      title: 'Gold',\n      field: 'gold',\n      render: function render(rowData) {\n        return /*#__PURE__*/React.createElement(\"img\", {\n          src: rowData.gold,\n          alt: rowData.name,\n          style: {\n            width: 50\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        });\n      }\n    }],\n    isLoading: loading,\n    actions: [{\n      icon: 'edit',\n      onClick: function onClick() {}\n    }],\n    options: {\n      pageSize: 10,\n      pageSizeOptions: [10, 20, 50],\n      actionsColumnIndex: -1\n    },\n    components: {\n      Action: Action\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }\n  });\n}\n\nexport default Categories;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/category/Categories.js"],"names":["React","useEffect","useState","MaterialTable","JwtService","Edit","Typography","Categories","tableRef","createRef","sliders","setSliders","loading","setLoading","getData","init","axios","getAxios","get","vouchers","resp","data","status","category","reload","Action","action","icon","id","title","field","render","rowData","color","category_color","retail","name","width","gold","onClick","pageSize","pageSizeOptions","actionsColumnIndex"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport JwtService from 'app/services/jwtService';\n// import Add from './Add';\nimport Edit from './Edit';\nimport { Typography } from '@material-ui/core';\n\nfunction Categories() {\n\tconst tableRef = React.createRef();\n\tconst [sliders, setSliders] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (!loading) getData();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tasync function getData() {\n\t\tsetLoading(true);\n\t\tJwtService.init();\n\t\tconst axios = JwtService.getAxios();\n\t\tconst vouchers = await axios.get('/api/admin/category');\n\t\tconst resp = vouchers.data;\n\t\tif (resp.status) {\n\t\t\tsetSliders(resp.data.category);\n\t\t} else {\n\t\t\tsetSliders([]);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\tfunction reload() {\n\t\treturn getData();\n\t}\n\n\tfunction Action({ action, data }) {\n\t\tswitch (action.icon) {\n\t\t\tcase 'edit':\n\t\t\t\treturn <Edit reload={reload} slide_id={data.id ? data.id : null} />;\n\t\t\tdefault:\n\t\t\t\treturn <></>;\n\t\t}\n\t}\n\n\treturn (\n\t\t<MaterialTable\n\t\t\ttitle=\"Category\"\n\t\t\tdata={sliders}\n\t\t\tref={tableRef}\n\t\t\tcolumns={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Name',\n\t\t\t\t\tfield: 'name'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Category Color',\n\t\t\t\t\tfield: 'category_color',\n\t\t\t\t\trender: rowData => (\n\t\t\t\t\t\t<Typography style={{ color: rowData.category_color }}>{rowData.category_color}</Typography>\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Retail',\n\t\t\t\t\tfield: 'retail',\n\t\t\t\t\trender: rowData => <img src={rowData.retail} alt={rowData.name} style={{ width: 50 }} />\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Gold',\n\t\t\t\t\tfield: 'gold',\n\t\t\t\t\trender: rowData => <img src={rowData.gold} alt={rowData.name} style={{ width: 50 }} />\n\t\t\t\t}\n\t\t\t]}\n\t\t\tisLoading={loading}\n\t\t\tactions={[\n\t\t\t\t{\n\t\t\t\t\ticon: 'edit',\n\t\t\t\t\tonClick: () => {}\n\t\t\t\t}\n\t\t\t]}\n\t\t\toptions={{\n\t\t\t\tpageSize: 10,\n\t\t\t\tpageSizeOptions: [10, 20, 50],\n\t\t\t\tactionsColumnIndex: -1\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tAction\n\t\t\t}}\n\t\t/>\n\t);\n}\n\nexport default Categories;\n"]},"metadata":{},"sourceType":"module"}