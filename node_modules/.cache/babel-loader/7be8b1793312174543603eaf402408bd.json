{"ast":null,"code":"/**\n * auth0-js v9.14.3\n * Author: Auth0\n * Date: 2021-01-26\n * License: MIT\n */\n!function (global, factory) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = factory() : \"function\" == typeof define && define.amd ? define(factory) : (global = global || self).CordovaAuth0Plugin = factory();\n}(this, function () {\n  \"use strict\";\n\n  var version_raw = \"9.14.3\",\n      toString = Object.prototype.toString;\n\n  function attribute(o, attr, type, text) {\n    if (type = \"array\" === type ? \"object\" : type, o && typeof o[attr] !== type) throw new Error(text);\n  }\n\n  function variable(o, type, text) {\n    if (typeof o !== type) throw new Error(text);\n  }\n\n  function value(o, values, text) {\n    if (-1 === values.indexOf(o)) throw new Error(text);\n  }\n\n  var assert = {\n    check: function check(o, config, attributes) {\n      if (config.optional && !o || variable(o, config.type, config.message), \"object\" === config.type && attributes) for (var keys = Object.keys(attributes), index = 0; index < keys.length; index++) {\n        var a = keys[index];\n        attributes[a].optional && !o[a] || attributes[a].condition && !attributes[a].condition(o) || (attribute(o, a, attributes[a].type, attributes[a].message), attributes[a].values && value(o[a], attributes[a].values, attributes[a].value_message));\n      }\n    },\n    attribute: attribute,\n    variable: variable,\n    value: value,\n    isArray: function isArray(array) {\n      return this.supportsIsArray() ? Array.isArray(array) : \"[object Array]\" === toString.call(array);\n    },\n    supportsIsArray: function supportsIsArray() {\n      return null != Array.isArray;\n    }\n  };\n\n  function objectAssignPolyfill(target) {\n    if (null == target) throw new TypeError(\"Cannot convert first argument to object\");\n\n    for (var to = Object(target), i = 1; i < arguments.length; i++) {\n      var nextSource = arguments[i];\n      if (null != nextSource) for (var keysArray = Object.keys(Object(nextSource)), nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n        var nextKey = keysArray[nextIndex],\n            desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        void 0 !== desc && desc.enumerable && (to[nextKey] = nextSource[nextKey]);\n      }\n    }\n\n    return to;\n  }\n\n  var objectAssign = {\n    get: function get() {\n      return Object.assign ? Object.assign : objectAssignPolyfill;\n    },\n    objectAssignPolyfill: objectAssignPolyfill\n  };\n\n  function pick(object, keys) {\n    return keys.reduce(function (prev, key) {\n      return object[key] && (prev[key] = object[key]), prev;\n    }, {});\n  }\n\n  function objectValues(obj) {\n    var values = [];\n\n    for (var key in obj) {\n      values.push(obj[key]);\n    }\n\n    return values;\n  }\n\n  function extend() {\n    var params = objectValues(arguments);\n    return params.unshift({}), objectAssign.get().apply(void 0, params);\n  }\n\n  function getLocationFromUrl(href) {\n    var match = href.match(/^(https?:|file:|chrome-extension:)\\/\\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/);\n    return match && {\n      href: href,\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    };\n  }\n\n  function trim(options, key) {\n    var trimmed = extend(options);\n    return options[key] && (trimmed[key] = options[key].trim()), trimmed;\n  }\n\n  var objectHelper = {\n    toSnakeCase: function toSnakeCase(object, exceptions) {\n      return \"object\" != typeof object || assert.isArray(object) || null === object ? object : (exceptions = exceptions || [], Object.keys(object).reduce(function (p, key) {\n        return p[-1 === exceptions.indexOf(key) ? function (str) {\n          for (var code, newKey = \"\", index = 0, wasPrevNumber = !0, wasPrevUppercase = !0; index < str.length;) {\n            code = str.charCodeAt(index), !wasPrevUppercase && code >= 65 && code <= 90 || !wasPrevNumber && code >= 48 && code <= 57 ? (newKey += \"_\", newKey += str[index].toLowerCase()) : newKey += str[index].toLowerCase(), wasPrevNumber = code >= 48 && code <= 57, wasPrevUppercase = code >= 65 && code <= 90, index++;\n          }\n\n          return newKey;\n        }(key) : key] = toSnakeCase(object[key]), p;\n      }, {}));\n    },\n    toCamelCase: function toCamelCase(object, exceptions, options) {\n      return \"object\" != typeof object || assert.isArray(object) || null === object ? object : (exceptions = exceptions || [], options = options || {}, Object.keys(object).reduce(function (p, key) {\n        var parts,\n            newKey = -1 === exceptions.indexOf(key) ? (parts = key.split(\"_\")).reduce(function (p, c) {\n          return p + c.charAt(0).toUpperCase() + c.slice(1);\n        }, parts.shift()) : key;\n        return p[newKey] = toCamelCase(object[newKey] || object[key], [], options), options.keepOriginal && (p[key] = toCamelCase(object[key], [], options)), p;\n      }, {}));\n    },\n    blacklist: function blacklist(object, blacklistedKeys) {\n      return Object.keys(object).reduce(function (p, key) {\n        return -1 === blacklistedKeys.indexOf(key) && (p[key] = object[key]), p;\n      }, {});\n    },\n    merge: function merge(object, keys) {\n      return {\n        base: keys ? pick(object, keys) : object,\n        with: function _with(object2, keys2) {\n          return object2 = keys2 ? pick(object2, keys2) : object2, extend(this.base, object2);\n        }\n      };\n    },\n    pick: pick,\n    getKeysNotIn: function getKeysNotIn(obj, allowedKeys) {\n      var notAllowed = [];\n\n      for (var key in obj) {\n        -1 === allowedKeys.indexOf(key) && notAllowed.push(key);\n      }\n\n      return notAllowed;\n    },\n    extend: extend,\n    getOriginFromUrl: function getOriginFromUrl(url) {\n      if (url) {\n        var parsed = getLocationFromUrl(url);\n        if (!parsed) return null;\n        var origin = parsed.protocol + \"//\" + parsed.hostname;\n        return parsed.port && (origin += \":\" + parsed.port), origin;\n      }\n    },\n    getLocationFromUrl: getLocationFromUrl,\n    trimUserDetails: function trimUserDetails(options) {\n      return function (options, keys) {\n        return keys.reduce(trim, options);\n      }(options, [\"username\", \"email\", \"phoneNumber\"]);\n    },\n    updatePropertyOn: function updatePropertyOn(obj, path, value) {\n      \"string\" == typeof path && (path = path.split(\".\"));\n      var next = path[0];\n      obj.hasOwnProperty(next) && (1 === path.length ? obj[next] = value : updatePropertyOn(obj[next], path.slice(1), value));\n    }\n  };\n\n  function getWindow() {\n    return window;\n  }\n\n  var windowHandler = {\n    redirect: function redirect(url) {\n      getWindow().location = url;\n    },\n    getDocument: function getDocument() {\n      return getWindow().document;\n    },\n    getWindow: getWindow,\n    getOrigin: function getOrigin() {\n      var location = getWindow().location,\n          origin = location.origin;\n      return origin || (origin = objectHelper.getOriginFromUrl(location.href)), origin;\n    }\n  },\n      commonjsGlobal = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {};\n\n  var urlJoin = function (fn, module) {\n    return fn(module = {\n      exports: {}\n    }, module.exports), module.exports;\n  }(function (module) {\n    var context, definition;\n    context = commonjsGlobal, definition = function definition() {\n      function normalize(strArray) {\n        var resultArray = [];\n        if (0 === strArray.length) return \"\";\n        if (\"string\" != typeof strArray[0]) throw new TypeError(\"Url must be a string. Received \" + strArray[0]);\n\n        if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n          var first = strArray.shift();\n          strArray[0] = first + strArray[0];\n        }\n\n        strArray[0].match(/^file:\\/\\/\\//) ? strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, \"$1:///\") : strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, \"$1://\");\n\n        for (var i = 0; i < strArray.length; i++) {\n          var component = strArray[i];\n          if (\"string\" != typeof component) throw new TypeError(\"Url must be a string. Received \" + component);\n          \"\" !== component && (i > 0 && (component = component.replace(/^[\\/]+/, \"\")), component = i < strArray.length - 1 ? component.replace(/[\\/]+$/, \"\") : component.replace(/[\\/]+$/, \"/\"), resultArray.push(component));\n        }\n\n        var str = resultArray.join(\"/\"),\n            parts = (str = str.replace(/\\/(\\?|&|#[^!])/g, \"$1\")).split(\"?\");\n        return str = parts.shift() + (parts.length > 0 ? \"?\" : \"\") + parts.join(\"&\");\n      }\n\n      return function () {\n        return normalize(\"object\" == typeof arguments[0] ? arguments[0] : [].slice.call(arguments));\n      };\n    }, module.exports ? module.exports = definition() : context.urljoin = definition();\n  }),\n      has = Object.prototype.hasOwnProperty,\n      isArray$1 = Array.isArray,\n      hexTable = function () {\n    for (var array = [], i = 0; i < 256; ++i) {\n      array.push(\"%\" + ((i < 16 ? \"0\" : \"\") + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n  }(),\n      arrayToObject = function arrayToObject(source, options) {\n    for (var obj = options && options.plainObjects ? Object.create(null) : {}, i = 0; i < source.length; ++i) {\n      void 0 !== source[i] && (obj[i] = source[i]);\n    }\n\n    return obj;\n  },\n      utils = {\n    arrayToObject: arrayToObject,\n    assign: function assign(target, source) {\n      return Object.keys(source).reduce(function (acc, key) {\n        return acc[key] = source[key], acc;\n      }, target);\n    },\n    combine: function combine(a, b) {\n      return [].concat(a, b);\n    },\n    compact: function compact(value) {\n      for (var queue = [{\n        obj: {\n          o: value\n        },\n        prop: \"o\"\n      }], refs = [], i = 0; i < queue.length; ++i) {\n        for (var item = queue[i], obj = item.obj[item.prop], keys = Object.keys(obj), j = 0; j < keys.length; ++j) {\n          var key = keys[j],\n              val = obj[key];\n          \"object\" == typeof val && null !== val && -1 === refs.indexOf(val) && (queue.push({\n            obj: obj,\n            prop: key\n          }), refs.push(val));\n        }\n      }\n\n      return function (queue) {\n        for (; queue.length > 1;) {\n          var item = queue.pop(),\n              obj = item.obj[item.prop];\n\n          if (isArray$1(obj)) {\n            for (var compacted = [], j = 0; j < obj.length; ++j) {\n              void 0 !== obj[j] && compacted.push(obj[j]);\n            }\n\n            item.obj[item.prop] = compacted;\n          }\n        }\n      }(queue), value;\n    },\n    decode: function decode(str, decoder, charset) {\n      var strWithoutPlus = str.replace(/\\+/g, \" \");\n      if (\"iso-8859-1\" === charset) return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n\n      try {\n        return decodeURIComponent(strWithoutPlus);\n      } catch (e) {\n        return strWithoutPlus;\n      }\n    },\n    encode: function encode(str, defaultEncoder, charset) {\n      if (0 === str.length) return str;\n      var string = str;\n      if (\"symbol\" == typeof str ? string = Symbol.prototype.toString.call(str) : \"string\" != typeof str && (string = String(str)), \"iso-8859-1\" === charset) return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n        return \"%26%23\" + parseInt($0.slice(2), 16) + \"%3B\";\n      });\n\n      for (var out = \"\", i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n        45 === c || 46 === c || 95 === c || 126 === c || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122 ? out += string.charAt(i) : c < 128 ? out += hexTable[c] : c < 2048 ? out += hexTable[192 | c >> 6] + hexTable[128 | 63 & c] : c < 55296 || c >= 57344 ? out += hexTable[224 | c >> 12] + hexTable[128 | c >> 6 & 63] + hexTable[128 | 63 & c] : (i += 1, c = 65536 + ((1023 & c) << 10 | 1023 & string.charCodeAt(i)), out += hexTable[240 | c >> 18] + hexTable[128 | c >> 12 & 63] + hexTable[128 | c >> 6 & 63] + hexTable[128 | 63 & c]);\n      }\n\n      return out;\n    },\n    isBuffer: function isBuffer(obj) {\n      return !(!obj || \"object\" != typeof obj) && !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n    },\n    isRegExp: function isRegExp(obj) {\n      return \"[object RegExp]\" === Object.prototype.toString.call(obj);\n    },\n    maybeMap: function maybeMap(val, fn) {\n      if (isArray$1(val)) {\n        for (var mapped = [], i = 0; i < val.length; i += 1) {\n          mapped.push(fn(val[i]));\n        }\n\n        return mapped;\n      }\n\n      return fn(val);\n    },\n    merge: function merge(target, source, options) {\n      if (!source) return target;\n\n      if (\"object\" != typeof source) {\n        if (isArray$1(target)) target.push(source);else {\n          if (!target || \"object\" != typeof target) return [target, source];\n          (options && (options.plainObjects || options.allowPrototypes) || !has.call(Object.prototype, source)) && (target[source] = !0);\n        }\n        return target;\n      }\n\n      if (!target || \"object\" != typeof target) return [target].concat(source);\n      var mergeTarget = target;\n      return isArray$1(target) && !isArray$1(source) && (mergeTarget = arrayToObject(target, options)), isArray$1(target) && isArray$1(source) ? (source.forEach(function (item, i) {\n        if (has.call(target, i)) {\n          var targetItem = target[i];\n          targetItem && \"object\" == typeof targetItem && item && \"object\" == typeof item ? target[i] = merge(targetItem, item, options) : target.push(item);\n        } else target[i] = item;\n      }), target) : Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n        return has.call(acc, key) ? acc[key] = merge(acc[key], value, options) : acc[key] = value, acc;\n      }, mergeTarget);\n    }\n  },\n      replace = String.prototype.replace,\n      percentTwenties = /%20/g,\n      Format = {\n    RFC1738: \"RFC1738\",\n    RFC3986: \"RFC3986\"\n  },\n      formats = utils.assign({\n    default: Format.RFC3986,\n    formatters: {\n      RFC1738: function RFC1738(value) {\n        return replace.call(value, percentTwenties, \"+\");\n      },\n      RFC3986: function RFC3986(value) {\n        return String(value);\n      }\n    }\n  }, Format),\n      has$1 = Object.prototype.hasOwnProperty,\n      arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n      return prefix + \"[]\";\n    },\n    comma: \"comma\",\n    indices: function indices(prefix, key) {\n      return prefix + \"[\" + key + \"]\";\n    },\n    repeat: function repeat(prefix) {\n      return prefix;\n    }\n  },\n      isArray$2 = Array.isArray,\n      push = Array.prototype.push,\n      pushToArray = function pushToArray(arr, valueOrArray) {\n    push.apply(arr, isArray$2(valueOrArray) ? valueOrArray : [valueOrArray]);\n  },\n      toISO = Date.prototype.toISOString,\n      defaultFormat = formats.default,\n      defaults = {\n    addQueryPrefix: !1,\n    allowDots: !1,\n    charset: \"utf-8\",\n    charsetSentinel: !1,\n    delimiter: \"&\",\n    encode: !0,\n    encoder: utils.encode,\n    encodeValuesOnly: !1,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    indices: !1,\n    serializeDate: function serializeDate(date) {\n      return toISO.call(date);\n    },\n    skipNulls: !1,\n    strictNullHandling: !1\n  },\n      stringify = function stringify(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset) {\n    var v,\n        obj = object;\n\n    if (\"function\" == typeof filter ? obj = filter(prefix, obj) : obj instanceof Date ? obj = serializeDate(obj) : \"comma\" === generateArrayPrefix && isArray$2(obj) && (obj = utils.maybeMap(obj, function (value) {\n      return value instanceof Date ? serializeDate(value) : value;\n    }).join(\",\")), null === obj) {\n      if (strictNullHandling) return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, \"key\") : prefix;\n      obj = \"\";\n    }\n\n    if (\"string\" == typeof (v = obj) || \"number\" == typeof v || \"boolean\" == typeof v || \"symbol\" == typeof v || \"bigint\" == typeof v || utils.isBuffer(obj)) return encoder ? [formatter(encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, \"key\")) + \"=\" + formatter(encoder(obj, defaults.encoder, charset, \"value\"))] : [formatter(prefix) + \"=\" + formatter(String(obj))];\n    var objKeys,\n        values = [];\n    if (void 0 === obj) return values;\n    if (isArray$2(filter)) objKeys = filter;else {\n      var keys = Object.keys(obj);\n      objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n      var key = objKeys[i],\n          value = obj[key];\n\n      if (!skipNulls || null !== value) {\n        var keyPrefix = isArray$2(obj) ? \"function\" == typeof generateArrayPrefix ? generateArrayPrefix(prefix, key) : prefix : prefix + (allowDots ? \".\" + key : \"[\" + key + \"]\");\n        pushToArray(values, stringify(value, keyPrefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n      }\n    }\n\n    return values;\n  },\n      lib_stringify = (Object.prototype.hasOwnProperty, Array.isArray, function (object, opts) {\n    var objKeys,\n        obj = object,\n        options = function (opts) {\n      if (!opts) return defaults;\n      if (null !== opts.encoder && void 0 !== opts.encoder && \"function\" != typeof opts.encoder) throw new TypeError(\"Encoder has to be a function.\");\n      var charset = opts.charset || defaults.charset;\n      if (void 0 !== opts.charset && \"utf-8\" !== opts.charset && \"iso-8859-1\" !== opts.charset) throw new TypeError(\"The charset option must be either utf-8, iso-8859-1, or undefined\");\n      var format = formats.default;\n\n      if (void 0 !== opts.format) {\n        if (!has$1.call(formats.formatters, opts.format)) throw new TypeError(\"Unknown format option provided.\");\n        format = opts.format;\n      }\n\n      var formatter = formats.formatters[format],\n          filter = defaults.filter;\n      return (\"function\" == typeof opts.filter || isArray$2(opts.filter)) && (filter = opts.filter), {\n        addQueryPrefix: \"boolean\" == typeof opts.addQueryPrefix ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: void 0 === opts.allowDots ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: \"boolean\" == typeof opts.charsetSentinel ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: void 0 === opts.delimiter ? defaults.delimiter : opts.delimiter,\n        encode: \"boolean\" == typeof opts.encode ? opts.encode : defaults.encode,\n        encoder: \"function\" == typeof opts.encoder ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: \"boolean\" == typeof opts.encodeValuesOnly ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: \"function\" == typeof opts.serializeDate ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: \"boolean\" == typeof opts.skipNulls ? opts.skipNulls : defaults.skipNulls,\n        sort: \"function\" == typeof opts.sort ? opts.sort : null,\n        strictNullHandling: \"boolean\" == typeof opts.strictNullHandling ? opts.strictNullHandling : defaults.strictNullHandling\n      };\n    }(opts);\n\n    \"function\" == typeof options.filter ? obj = (0, options.filter)(\"\", obj) : isArray$2(options.filter) && (objKeys = options.filter);\n    var arrayFormat,\n        keys = [];\n    if (\"object\" != typeof obj || null === obj) return \"\";\n    arrayFormat = opts && opts.arrayFormat in arrayPrefixGenerators ? opts.arrayFormat : opts && \"indices\" in opts ? opts.indices ? \"indices\" : \"repeat\" : \"indices\";\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    objKeys || (objKeys = Object.keys(obj)), options.sort && objKeys.sort(options.sort);\n\n    for (var i = 0; i < objKeys.length; ++i) {\n      var key = objKeys[i];\n      options.skipNulls && null === obj[key] || pushToArray(keys, stringify(obj[key], key, generateArrayPrefix, options.strictNullHandling, options.skipNulls, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.formatter, options.encodeValuesOnly, options.charset));\n    }\n\n    var joined = keys.join(options.delimiter),\n        prefix = !0 === options.addQueryPrefix ? \"?\" : \"\";\n    return options.charsetSentinel && (\"iso-8859-1\" === options.charset ? prefix += \"utf8=%26%2310003%3B&\" : prefix += \"utf8=%E2%9C%93&\"), joined.length > 0 ? prefix + joined : \"\";\n  });\n\n  function PopupHandler(webAuth) {\n    this.webAuth = webAuth, this._current_popup = null, this.options = null;\n  }\n\n  function PluginHandler(webAuth) {\n    this.webAuth = webAuth;\n  }\n\n  function CordovaPlugin() {\n    this.webAuth = null, this.version = version_raw, this.extensibilityPoints = [\"popup.authorize\", \"popup.getPopupHandler\"];\n  }\n\n  return PopupHandler.prototype.preload = function (options) {\n    var _this = this,\n        _window = windowHandler.getWindow(),\n        url = options.url || \"about:blank\",\n        popupOptions = options.popupOptions || {};\n\n    popupOptions.location = \"yes\", delete popupOptions.width, delete popupOptions.height;\n    var windowFeatures = lib_stringify(popupOptions, {\n      encode: !1,\n      delimiter: \",\"\n    });\n    return this._current_popup && !this._current_popup.closed || (this._current_popup = _window.open(url, \"_blank\", windowFeatures), this._current_popup.kill = function (success) {\n      _this._current_popup.success = success, this.close(), _this._current_popup = null;\n    }), this._current_popup;\n  }, PopupHandler.prototype.load = function (url, _, options, cb) {\n    var _this = this;\n\n    this.url = url, this.options = options, this._current_popup ? this._current_popup.location.href = url : (options.url = url, this.preload(options)), this.transientErrorHandler = function (event) {\n      _this.errorHandler(event, cb);\n    }, this.transientStartHandler = function (event) {\n      _this.startHandler(event, cb);\n    }, this.transientExitHandler = function () {\n      _this.exitHandler(cb);\n    }, this._current_popup.addEventListener(\"loaderror\", this.transientErrorHandler), this._current_popup.addEventListener(\"loadstart\", this.transientStartHandler), this._current_popup.addEventListener(\"exit\", this.transientExitHandler);\n  }, PopupHandler.prototype.errorHandler = function (event, cb) {\n    this._current_popup && (this._current_popup.kill(!0), cb({\n      error: \"window_error\",\n      errorDescription: event.message\n    }));\n  }, PopupHandler.prototype.unhook = function () {\n    this._current_popup.removeEventListener(\"loaderror\", this.transientErrorHandler), this._current_popup.removeEventListener(\"loadstart\", this.transientStartHandler), this._current_popup.removeEventListener(\"exit\", this.transientExitHandler);\n  }, PopupHandler.prototype.exitHandler = function (cb) {\n    this._current_popup && (this.unhook(), this._current_popup.success || cb({\n      error: \"window_closed\",\n      errorDescription: \"Browser window closed\"\n    }));\n  }, PopupHandler.prototype.startHandler = function (event, cb) {\n    var _this = this;\n\n    if (this._current_popup) {\n      var callbackUrl = urlJoin(\"https:\", this.webAuth.baseOptions.domain, \"/mobile\");\n\n      if (!event.url || 0 === event.url.indexOf(callbackUrl + \"#\")) {\n        var parts = event.url.split(\"#\");\n\n        if (1 !== parts.length) {\n          var opts = {\n            hash: parts.pop()\n          };\n          this.options.nonce && (opts.nonce = this.options.nonce), this.webAuth.parseHash(opts, function (error, result) {\n            (error || result) && (_this._current_popup.kill(!0), cb(error, result));\n          });\n        }\n      }\n    }\n  }, PluginHandler.prototype.processParams = function (params) {\n    return params.redirectUri = urlJoin(\"https://\" + params.domain, \"mobile\"), delete params.owp, params;\n  }, PluginHandler.prototype.getPopupHandler = function () {\n    return new PopupHandler(this.webAuth);\n  }, CordovaPlugin.prototype.setWebAuth = function (webAuth) {\n    this.webAuth = webAuth;\n  }, CordovaPlugin.prototype.supports = function (extensibilityPoint) {\n    var _window = windowHandler.getWindow();\n\n    return (!!_window.cordova || !!_window.electron) && this.extensibilityPoints.indexOf(extensibilityPoint) > -1;\n  }, CordovaPlugin.prototype.init = function () {\n    return new PluginHandler(this.webAuth);\n  }, CordovaPlugin;\n});","map":null,"metadata":{},"sourceType":"script"}