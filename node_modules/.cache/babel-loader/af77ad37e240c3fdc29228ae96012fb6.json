{"ast":null,"code":"import _objectSpread from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n// eslint-disable-next-line max-classes-per-file\nimport _ from '@lodash';\nimport * as colors from '@material-ui/core/colors';\n\nvar EventEmitter = /*#__PURE__*/function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.events = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"_getEventListByName\",\n    value: function _getEventListByName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        this.events[eventName] = new Set();\n      }\n\n      return this.events[eventName];\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, fn) {\n      this._getEventListByName(eventName).add(fn);\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, fn) {\n      var self = this;\n\n      var onceFn = function onceFn() {\n        self.removeListener(eventName, onceFn);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        fn.apply(self, args);\n      };\n\n      this.on(eventName, onceFn);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this._getEventListByName(eventName).forEach( // eslint-disable-next-line func-names\n      function (fn) {\n        fn.apply(this, args);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventName, fn) {\n      this._getEventListByName(eventName).delete(fn);\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nvar FuseUtils = /*#__PURE__*/function () {\n  function FuseUtils() {\n    _classCallCheck(this, FuseUtils);\n  }\n\n  _createClass(FuseUtils, null, [{\n    key: \"filterArrayByString\",\n    value: function filterArrayByString(mainArr, searchText) {\n      var _this = this;\n\n      if (searchText === '') {\n        return mainArr;\n      }\n\n      searchText = searchText.toLowerCase();\n      return mainArr.filter(function (itemObj) {\n        return _this.searchInObj(itemObj, searchText);\n      });\n    }\n  }, {\n    key: \"searchInObj\",\n    value: function searchInObj(itemObj, searchText) {\n      if (!itemObj) {\n        return false;\n      }\n\n      var propArray = Object.keys(itemObj);\n\n      for (var i = 0; i < propArray.length; i += 1) {\n        var prop = propArray[i];\n        var value = itemObj[prop];\n\n        if (typeof value === 'string') {\n          if (this.searchInString(value, searchText)) {\n            return true;\n          }\n        } else if (Array.isArray(value)) {\n          if (this.searchInArray(value, searchText)) {\n            return true;\n          }\n        }\n\n        if (typeof value === 'object') {\n          if (this.searchInObj(value, searchText)) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"searchInArray\",\n    value: function searchInArray(arr, searchText) {\n      var _this2 = this;\n\n      arr.forEach(function (value) {\n        if (typeof value === 'string') {\n          if (_this2.searchInString(value, searchText)) {\n            return true;\n          }\n        }\n\n        if (typeof value === 'object') {\n          if (_this2.searchInObj(value, searchText)) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n      return false;\n    }\n  }, {\n    key: \"searchInString\",\n    value: function searchInString(value, searchText) {\n      return value.toLowerCase().includes(searchText);\n    }\n  }, {\n    key: \"generateGUID\",\n    value: function generateGUID() {\n      function S4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return S4() + S4();\n    }\n  }, {\n    key: \"toggleInArray\",\n    value: function toggleInArray(item, array) {\n      if (array.indexOf(item) === -1) {\n        array.push(item);\n      } else {\n        array.splice(array.indexOf(item), 1);\n      }\n    }\n  }, {\n    key: \"handleize\",\n    value: function handleize(text) {\n      return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(/\\W+/g, '') // Remove all non-word chars\n      .replace(/--+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, ''); // Trim - from end of text\n    }\n  }, {\n    key: \"setRoutes\",\n    value: function setRoutes(config, defaultAuth) {\n      var routes = _toConsumableArray(config.routes);\n\n      routes = routes.map(function (route) {\n        var auth = config.auth || config.auth === null ? config.auth : defaultAuth || null;\n        auth = route.auth || route.auth === null ? route.auth : auth;\n\n        var settings = _.merge({}, config.settings, route.settings);\n\n        return _objectSpread(_objectSpread({}, route), {}, {\n          settings: settings,\n          auth: auth\n        });\n      });\n      return _toConsumableArray(routes);\n    }\n  }, {\n    key: \"generateRoutesFromConfigs\",\n    value: function generateRoutesFromConfigs(configs, defaultAuth) {\n      var _this3 = this;\n\n      var allRoutes = [];\n      configs.forEach(function (config) {\n        allRoutes = [].concat(_toConsumableArray(allRoutes), _toConsumableArray(_this3.setRoutes(config, defaultAuth)));\n      });\n      return allRoutes;\n    }\n  }, {\n    key: \"findById\",\n    value: function findById(obj, id) {\n      var i;\n      var childObj;\n      var result;\n\n      if (id === obj.id) {\n        return obj;\n      }\n\n      for (i = 0; i < Object.keys(obj).length; i += 1) {\n        childObj = obj[Object.keys(obj)[i]];\n\n        if (typeof childObj === 'object') {\n          result = this.findById(childObj, id);\n\n          if (result) {\n            return result;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getFlatNavigation\",\n    value: function getFlatNavigation(navigationItems) {\n      var flatNavigation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      for (var i = 0; i < navigationItems.length; i += 1) {\n        var navItem = navigationItems[i];\n\n        if (navItem.type === 'item') {\n          flatNavigation.push({\n            id: navItem.id,\n            title: navItem.title,\n            type: navItem.type,\n            icon: navItem.icon || false,\n            url: navItem.url,\n            auth: navItem.auth || null\n          });\n        }\n\n        if (navItem.type === 'collapse' || navItem.type === 'group') {\n          if (navItem.children) {\n            this.getFlatNavigation(navItem.children, flatNavigation);\n          }\n        }\n      }\n\n      return flatNavigation;\n    }\n  }, {\n    key: \"randomMatColor\",\n    value: function randomMatColor(hue) {\n      hue = hue || '400';\n      var mainColors = ['red', 'pink', 'purple', 'deepPurple', 'indigo', 'blue', 'lightBlue', 'cyan', 'teal', 'green', 'lightGreen', 'lime', 'yellow', 'amber', 'orange', 'deepOrange'];\n      var randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n      return colors[randomColor][hue];\n    }\n  }, {\n    key: \"difference\",\n    value: function difference(object, base) {\n      function changes(_object, _base) {\n        return _.transform(_object, function (result, value, key) {\n          if (!_.isEqual(value, _base[key])) {\n            result[key] = _.isObject(value) && _.isObject(_base[key]) ? changes(value, _base[key]) : value;\n          }\n        });\n      }\n\n      return changes(object, base);\n    }\n  }, {\n    key: \"updateNavItem\",\n    value: function updateNavItem(nav, id, item) {\n      var _this4 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return _.merge({}, _item, item);\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this4.updateNavItem(_item.children, id, item)\n          });\n        }\n\n        return _.merge({}, _item);\n      });\n    }\n  }, {\n    key: \"removeNavItem\",\n    value: function removeNavItem(nav, id) {\n      var _this5 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return null;\n        }\n\n        if (_item.children) {\n          return _.merge({}, _.omit(_item, ['children']), {\n            children: _this5.removeNavItem(_item.children, id)\n          });\n        }\n\n        return _.merge({}, _item);\n      }).filter(function (s) {\n        return s;\n      });\n    }\n  }, {\n    key: \"prependNavItem\",\n    value: function prependNavItem(nav, item, parentId) {\n      var _this6 = this;\n\n      if (!parentId) {\n        return [item].concat(_toConsumableArray(nav));\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [item].concat(_toConsumableArray(_item.children))\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this6.prependNavItem(_item.children, item, parentId)\n          });\n        }\n\n        return _.merge({}, _item);\n      });\n    }\n  }, {\n    key: \"appendNavItem\",\n    value: function appendNavItem(nav, item, parentId) {\n      var _this7 = this;\n\n      if (!parentId) {\n        return [].concat(_toConsumableArray(nav), [item]);\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [].concat(_toConsumableArray(_item.children), [item])\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this7.appendNavItem(_item.children, item, parentId)\n          });\n        }\n\n        return _.merge({}, _item);\n      });\n    }\n  }, {\n    key: \"hasPermission\",\n    value: function hasPermission(authArr, userRole) {\n      /**\n       * If auth array is not defined\n       * Pass and allow\n       */\n      if (authArr === null || authArr === undefined) {\n        // console.info(\"auth is null || undefined:\", authArr);\n        return true;\n      }\n\n      if (authArr.length === 0) {\n        /**\n         * if auth array is empty means,\n         * allow only user role is guest (null or empty[])\n         */\n        // console.info(\"auth is empty[]:\", authArr);\n        return !userRole || userRole.length === 0;\n      }\n      /**\n       * Check if user has grants\n       */\n      // console.info(\"auth arr:\", authArr);\n\n      /*\n                Check if user role is array,\n                */\n\n\n      if (userRole && Array.isArray(userRole)) {\n        return authArr.some(function (r) {\n          return userRole.indexOf(r) >= 0;\n        });\n      }\n      /*\n                Check if user role is string,\n                */\n\n\n      return authArr.includes(userRole);\n    }\n  }]);\n\n  return FuseUtils;\n}();\n\nFuseUtils.EventEmitter = EventEmitter;\nexport default FuseUtils;","map":{"version":3,"sources":["D:/Projects/live/src/@fuse/utils/FuseUtils.js"],"names":["_","colors","EventEmitter","events","eventName","Set","fn","_getEventListByName","add","self","onceFn","removeListener","args","apply","on","forEach","bind","delete","FuseUtils","mainArr","searchText","toLowerCase","filter","itemObj","searchInObj","propArray","Object","keys","i","length","prop","value","searchInString","Array","isArray","searchInArray","arr","includes","S4","Math","floor","random","toString","substring","item","array","indexOf","push","splice","text","replace","config","defaultAuth","routes","map","route","auth","settings","merge","configs","allRoutes","setRoutes","obj","id","childObj","result","findById","navigationItems","flatNavigation","navItem","type","title","icon","url","children","getFlatNavigation","hue","mainColors","randomColor","object","base","changes","_object","_base","transform","key","isEqual","isObject","nav","_item","updateNavItem","omit","removeNavItem","s","parentId","prependNavItem","appendNavItem","authArr","userRole","undefined","some","r"],"mappings":"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","sourcesContent":["// eslint-disable-next-line max-classes-per-file\nimport _ from '@lodash';\nimport * as colors from '@material-ui/core/colors';\n\nclass EventEmitter {\n\tconstructor() {\n\t\tthis.events = {};\n\t}\n\n\t_getEventListByName(eventName) {\n\t\tif (typeof this.events[eventName] === 'undefined') {\n\t\t\tthis.events[eventName] = new Set();\n\t\t}\n\t\treturn this.events[eventName];\n\t}\n\n\ton(eventName, fn) {\n\t\tthis._getEventListByName(eventName).add(fn);\n\t}\n\n\tonce(eventName, fn) {\n\t\tconst self = this;\n\n\t\tconst onceFn = (...args) => {\n\t\t\tself.removeListener(eventName, onceFn);\n\t\t\tfn.apply(self, args);\n\t\t};\n\t\tthis.on(eventName, onceFn);\n\t}\n\n\temit(eventName, ...args) {\n\t\tthis._getEventListByName(eventName).forEach(\n\t\t\t// eslint-disable-next-line func-names\n\t\t\tfunction(fn) {\n\t\t\t\tfn.apply(this, args);\n\t\t\t}.bind(this)\n\t\t);\n\t}\n\n\tremoveListener(eventName, fn) {\n\t\tthis._getEventListByName(eventName).delete(fn);\n\t}\n}\n\nclass FuseUtils {\n\tstatic filterArrayByString(mainArr, searchText) {\n\t\tif (searchText === '') {\n\t\t\treturn mainArr;\n\t\t}\n\n\t\tsearchText = searchText.toLowerCase();\n\n\t\treturn mainArr.filter(itemObj => this.searchInObj(itemObj, searchText));\n\t}\n\n\tstatic searchInObj(itemObj, searchText) {\n\t\tif (!itemObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst propArray = Object.keys(itemObj);\n\n\t\tfor (let i = 0; i < propArray.length; i += 1) {\n\t\t\tconst prop = propArray[i];\n\t\t\tconst value = itemObj[prop];\n\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tif (this.searchInString(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\tif (this.searchInArray(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (this.searchInObj(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic searchInArray(arr, searchText) {\n\t\tarr.forEach(value => {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tif (this.searchInString(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (this.searchInObj(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn false;\n\t}\n\n\tstatic searchInString(value, searchText) {\n\t\treturn value.toLowerCase().includes(searchText);\n\t}\n\n\tstatic generateGUID() {\n\t\tfunction S4() {\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000)\n\t\t\t\t.toString(16)\n\t\t\t\t.substring(1);\n\t\t}\n\n\t\treturn S4() + S4();\n\t}\n\n\tstatic toggleInArray(item, array) {\n\t\tif (array.indexOf(item) === -1) {\n\t\t\tarray.push(item);\n\t\t} else {\n\t\t\tarray.splice(array.indexOf(item), 1);\n\t\t}\n\t}\n\n\tstatic handleize(text) {\n\t\treturn text\n\t\t\t.toString()\n\t\t\t.toLowerCase()\n\t\t\t.replace(/\\s+/g, '-') // Replace spaces with -\n\t\t\t.replace(/\\W+/g, '') // Remove all non-word chars\n\t\t\t.replace(/--+/g, '-') // Replace multiple - with single -\n\t\t\t.replace(/^-+/, '') // Trim - from start of text\n\t\t\t.replace(/-+$/, ''); // Trim - from end of text\n\t}\n\n\tstatic setRoutes(config, defaultAuth) {\n\t\tlet routes = [...config.routes];\n\n\t\troutes = routes.map(route => {\n\t\t\tlet auth = config.auth || config.auth === null ? config.auth : defaultAuth || null;\n\t\t\tauth = route.auth || route.auth === null ? route.auth : auth;\n\t\t\tconst settings = _.merge({}, config.settings, route.settings);\n\n\t\t\treturn {\n\t\t\t\t...route,\n\t\t\t\tsettings,\n\t\t\t\tauth\n\t\t\t};\n\t\t});\n\n\t\treturn [...routes];\n\t}\n\n\tstatic generateRoutesFromConfigs(configs, defaultAuth) {\n\t\tlet allRoutes = [];\n\t\tconfigs.forEach(config => {\n\t\t\tallRoutes = [...allRoutes, ...this.setRoutes(config, defaultAuth)];\n\t\t});\n\t\treturn allRoutes;\n\t}\n\n\tstatic findById(obj, id) {\n\t\tlet i;\n\t\tlet childObj;\n\t\tlet result;\n\n\t\tif (id === obj.id) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tfor (i = 0; i < Object.keys(obj).length; i += 1) {\n\t\t\tchildObj = obj[Object.keys(obj)[i]];\n\n\t\t\tif (typeof childObj === 'object') {\n\t\t\t\tresult = this.findById(childObj, id);\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic getFlatNavigation(navigationItems, flatNavigation = []) {\n\t\tfor (let i = 0; i < navigationItems.length; i += 1) {\n\t\t\tconst navItem = navigationItems[i];\n\n\t\t\tif (navItem.type === 'item') {\n\t\t\t\tflatNavigation.push({\n\t\t\t\t\tid: navItem.id,\n\t\t\t\t\ttitle: navItem.title,\n\t\t\t\t\ttype: navItem.type,\n\t\t\t\t\ticon: navItem.icon || false,\n\t\t\t\t\turl: navItem.url,\n\t\t\t\t\tauth: navItem.auth || null\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (navItem.type === 'collapse' || navItem.type === 'group') {\n\t\t\t\tif (navItem.children) {\n\t\t\t\t\tthis.getFlatNavigation(navItem.children, flatNavigation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn flatNavigation;\n\t}\n\n\tstatic randomMatColor(hue) {\n\t\thue = hue || '400';\n\t\tconst mainColors = [\n\t\t\t'red',\n\t\t\t'pink',\n\t\t\t'purple',\n\t\t\t'deepPurple',\n\t\t\t'indigo',\n\t\t\t'blue',\n\t\t\t'lightBlue',\n\t\t\t'cyan',\n\t\t\t'teal',\n\t\t\t'green',\n\t\t\t'lightGreen',\n\t\t\t'lime',\n\t\t\t'yellow',\n\t\t\t'amber',\n\t\t\t'orange',\n\t\t\t'deepOrange'\n\t\t];\n\t\tconst randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n\t\treturn colors[randomColor][hue];\n\t}\n\n\tstatic difference(object, base) {\n\t\tfunction changes(_object, _base) {\n\t\t\treturn _.transform(_object, (result, value, key) => {\n\t\t\t\tif (!_.isEqual(value, _base[key])) {\n\t\t\t\t\tresult[key] = _.isObject(value) && _.isObject(_base[key]) ? changes(value, _base[key]) : value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn changes(object, base);\n\t}\n\n\tstatic EventEmitter = EventEmitter;\n\n\tstatic updateNavItem(nav, id, item) {\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === id) {\n\t\t\t\treturn _.merge({}, _item, item);\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.updateNavItem(_item.children, id, item)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic removeNavItem(nav, id) {\n\t\treturn nav\n\t\t\t.map(_item => {\n\t\t\t\tif (_item.id === id) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif (_item.children) {\n\t\t\t\t\treturn _.merge({}, _.omit(_item, ['children']), {\n\t\t\t\t\t\tchildren: this.removeNavItem(_item.children, id)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn _.merge({}, _item);\n\t\t\t})\n\t\t\t.filter(s => s);\n\t}\n\n\tstatic prependNavItem(nav, item, parentId) {\n\t\tif (!parentId) {\n\t\t\treturn [item, ...nav];\n\t\t}\n\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === parentId && _item.children) {\n\t\t\t\treturn {\n\t\t\t\t\t_item,\n\t\t\t\t\tchildren: [item, ..._item.children]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.prependNavItem(_item.children, item, parentId)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic appendNavItem(nav, item, parentId) {\n\t\tif (!parentId) {\n\t\t\treturn [...nav, item];\n\t\t}\n\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === parentId && _item.children) {\n\t\t\t\treturn {\n\t\t\t\t\t_item,\n\t\t\t\t\tchildren: [..._item.children, item]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.appendNavItem(_item.children, item, parentId)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic hasPermission(authArr, userRole) {\n\t\t/**\n\t\t * If auth array is not defined\n\t\t * Pass and allow\n\t\t */\n\t\tif (authArr === null || authArr === undefined) {\n\t\t\t// console.info(\"auth is null || undefined:\", authArr);\n\t\t\treturn true;\n\t\t}\n\t\tif (authArr.length === 0) {\n\t\t\t/**\n\t\t\t * if auth array is empty means,\n\t\t\t * allow only user role is guest (null or empty[])\n\t\t\t */\n\t\t\t// console.info(\"auth is empty[]:\", authArr);\n\t\t\treturn !userRole || userRole.length === 0;\n\t\t}\n\t\t/**\n\t\t * Check if user has grants\n\t\t */\n\t\t// console.info(\"auth arr:\", authArr);\n\t\t/*\n            Check if user role is array,\n            */\n\t\tif (userRole && Array.isArray(userRole)) {\n\t\t\treturn authArr.some(r => userRole.indexOf(r) >= 0);\n\t\t}\n\n\t\t/*\n            Check if user role is string,\n            */\n\t\treturn authArr.includes(userRole);\n\t}\n}\n\nexport default FuseUtils;\n"]},"metadata":{},"sourceType":"module"}