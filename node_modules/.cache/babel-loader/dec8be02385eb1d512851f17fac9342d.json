{"ast":null,"code":"import _slicedToArray from \"D:\\\\Projects\\\\live\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\live\\\\src\\\\app\\\\main\\\\common\\\\OfferSearch.js\";\nimport React, { useState, useEffect } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport FuseChipSelect from '@fuse/core/FuseChipSelect';\nvar axios = JwtService.getAxios();\n\nfunction OfferSearch(_ref) {\n  var setValue = _ref.setValue,\n      error = _ref.error,\n      incomingOffer = _ref.incomingOffer;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      offers = _useState2[0],\n      setOffers = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      offer = _useState4[0],\n      setOffer = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  useEffect(function () {\n    axios.get('/api/admin/offer').then(function (res) {\n      var data = res.data.data;\n      setOffers(data.offers);\n\n      if (incomingOffer) {\n        var _offer = data.offers.find(function (offer) {\n          return offer.id === incomingOffer;\n        });\n\n        if (_offer) {\n          setOffer({\n            value: _offer.id,\n            label: _offer.name\n          });\n        }\n      }\n\n      setLoading(false);\n    }); // eslint-disable-next-line\n  }, []);\n  useEffect(function () {\n    if (offer) setValue(offer.value); // eslint-disable-next-line\n  }, [offer]);\n\n  function _onChange(value, name) {\n    console.log(value);\n    setOffer(value);\n  }\n\n  return /*#__PURE__*/React.createElement(FuseChipSelect, {\n    className: \"mt-8 mb-8\",\n    value: offer,\n    onChange: function onChange(value) {\n      return _onChange(value);\n    },\n    placeholder: \"Select offer\",\n    textFieldProps: {\n      label: 'Offers',\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: 'outlined'\n    },\n    options: offers.map(function (partner) {\n      return {\n        value: partner.id,\n        label: partner.name\n      };\n    }),\n    loading: loading,\n    error: error,\n    helperText: error,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  });\n}\n\nexport default OfferSearch;","map":{"version":3,"sources":["D:/Projects/live/src/app/main/common/OfferSearch.js"],"names":["React","useState","useEffect","JwtService","FuseChipSelect","axios","getAxios","OfferSearch","setValue","error","incomingOffer","offers","setOffers","offer","setOffer","loading","setLoading","get","then","res","data","find","id","value","label","name","onChange","console","log","InputLabelProps","shrink","variant","map","partner"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AAEA,IAAMC,KAAK,GAAGF,UAAU,CAACG,QAAX,EAAd;;AAEA,SAASC,WAAT,OAAyD;AAAA,MAAlCC,QAAkC,QAAlCA,QAAkC;AAAA,MAAxBC,KAAwB,QAAxBA,KAAwB;AAAA,MAAjBC,aAAiB,QAAjBA,aAAiB;;AAAA,kBAC5BT,QAAQ,CAAC,EAAD,CADoB;AAAA;AAAA,MACjDU,MADiD;AAAA,MACzCC,SADyC;;AAAA,mBAE9BX,QAAQ,CAAC,EAAD,CAFsB;AAAA;AAAA,MAEjDY,KAFiD;AAAA,MAE1CC,QAF0C;;AAAA,mBAG1Bb,QAAQ,CAAC,IAAD,CAHkB;AAAA;AAAA,MAGjDc,OAHiD;AAAA,MAGxCC,UAHwC;;AAKxDd,EAAAA,SAAS,CAAC,YAAM;AACfG,IAAAA,KAAK,CAACY,GAAN,CAAU,kBAAV,EAA8BC,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AACzC,UAAMC,IAAI,GAAGD,GAAG,CAACC,IAAJ,CAASA,IAAtB;AACAR,MAAAA,SAAS,CAACQ,IAAI,CAACT,MAAN,CAAT;;AAEA,UAAID,aAAJ,EAAmB;AAClB,YAAMG,MAAK,GAAGO,IAAI,CAACT,MAAL,CAAYU,IAAZ,CAAiB,UAAAR,KAAK;AAAA,iBAAIA,KAAK,CAACS,EAAN,KAAaZ,aAAjB;AAAA,SAAtB,CAAd;;AACA,YAAIG,MAAJ,EAAW;AACVC,UAAAA,QAAQ,CAAC;AAAES,YAAAA,KAAK,EAAEV,MAAK,CAACS,EAAf;AAAmBE,YAAAA,KAAK,EAAEX,MAAK,CAACY;AAAhC,WAAD,CAAR;AACA;AACD;;AACDT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,KAXD,EADe,CAaf;AACA,GAdQ,EAcN,EAdM,CAAT;AAeAd,EAAAA,SAAS,CAAC,YAAM;AACf,QAAIW,KAAJ,EAAWL,QAAQ,CAACK,KAAK,CAACU,KAAP,CAAR,CADI,CAEf;AACA,GAHQ,EAGN,CAACV,KAAD,CAHM,CAAT;;AAKA,WAASa,SAAT,CAAkBH,KAAlB,EAAyBE,IAAzB,EAA+B;AAC9BE,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACAT,IAAAA,QAAQ,CAACS,KAAD,CAAR;AACA;;AAED,sBACC,oBAAC,cAAD;AACC,IAAA,SAAS,EAAC,WADX;AAEC,IAAA,KAAK,EAAEV,KAFR;AAGC,IAAA,QAAQ,EAAE,kBAAAU,KAAK;AAAA,aAAIG,SAAQ,CAACH,KAAD,CAAZ;AAAA,KAHhB;AAIC,IAAA,WAAW,EAAC,cAJb;AAKC,IAAA,cAAc,EAAE;AACfC,MAAAA,KAAK,EAAE,QADQ;AAEfK,MAAAA,eAAe,EAAE;AAChBC,QAAAA,MAAM,EAAE;AADQ,OAFF;AAKfC,MAAAA,OAAO,EAAE;AALM,KALjB;AAYC,IAAA,OAAO,EAAEpB,MAAM,CAACqB,GAAP,CAAW,UAAAC,OAAO;AAAA,aAAK;AAC/BV,QAAAA,KAAK,EAAEU,OAAO,CAACX,EADgB;AAE/BE,QAAAA,KAAK,EAAES,OAAO,CAACR;AAFgB,OAAL;AAAA,KAAlB,CAZV;AAgBC,IAAA,OAAO,EAAEV,OAhBV;AAiBC,IAAA,KAAK,EAAEN,KAjBR;AAkBC,IAAA,UAAU,EAAEA,KAlBb;AAmBC,IAAA,QAAQ,MAnBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAuBA;;AAED,eAAeF,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport JwtService from 'app/services/jwtService';\nimport FuseChipSelect from '@fuse/core/FuseChipSelect';\n\nconst axios = JwtService.getAxios();\n\nfunction OfferSearch({ setValue, error, incomingOffer }) {\n\tconst [offers, setOffers] = useState([]);\n\tconst [offer, setOffer] = useState({});\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\taxios.get('/api/admin/offer').then(res => {\n\t\t\tconst data = res.data.data;\n\t\t\tsetOffers(data.offers);\n\n\t\t\tif (incomingOffer) {\n\t\t\t\tconst offer = data.offers.find(offer => offer.id === incomingOffer);\n\t\t\t\tif (offer) {\n\t\t\t\t\tsetOffer({ value: offer.id, label: offer.name });\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t});\n\t\t// eslint-disable-next-line\n\t}, []);\n\tuseEffect(() => {\n\t\tif (offer) setValue(offer.value);\n\t\t// eslint-disable-next-line\n\t}, [offer]);\n\n\tfunction onChange(value, name) {\n\t\tconsole.log(value);\n\t\tsetOffer(value);\n\t}\n\n\treturn (\n\t\t<FuseChipSelect\n\t\t\tclassName=\"mt-8 mb-8\"\n\t\t\tvalue={offer}\n\t\t\tonChange={value => onChange(value)}\n\t\t\tplaceholder=\"Select offer\"\n\t\t\ttextFieldProps={{\n\t\t\t\tlabel: 'Offers',\n\t\t\t\tInputLabelProps: {\n\t\t\t\t\tshrink: true\n\t\t\t\t},\n\t\t\t\tvariant: 'outlined'\n\t\t\t}}\n\t\t\toptions={offers.map(partner => ({\n\t\t\t\tvalue: partner.id,\n\t\t\t\tlabel: partner.name\n\t\t\t}))}\n\t\t\tloading={loading}\n\t\t\terror={error}\n\t\t\thelperText={error}\n\t\t\trequired\n\t\t/>\n\t);\n}\n\nexport default OfferSearch;\n"]},"metadata":{},"sourceType":"module"}